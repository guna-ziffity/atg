/*
	Copyright (c) 2004-2007, The Dojo Foundation
	All Rights Reserved.

	Licensed under the Academic Free License version 2.1 or above OR the
	modified BSD license. For more information on Dojo licensing, see:

		http://dojotoolkit.org/book/dojo-book-0-9/introduction/licensing
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

if(!dojo._hasResource["dojox.collections._base"]){dojo._hasResource["dojox.collections._base"]=true;dojo.provide("dojox.collections._base");dojox.collections.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};dojox.collections.Iterator=function(_3){var a=_3;var _5=0;this.element=a[_5]||null;this.atEnd=function(){return (_5>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_5++];return this.element;};this.map=function(fn,_7){return dojo.map(a,fn,_7);};this.reset=function(){_5=0;this.element=a[_5];};};dojox.collections.DictionaryIterator=function(_8){var a=[];var _a={};for(var p in _8){if(!_a[p]){a.push(_8[p]);}}var _c=0;this.element=a[_c]||null;this.atEnd=function(){return (_c>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_c++];return this.element;};this.map=function(fn,_e){return dojo.map(a,fn,_e);};this.reset=function(){_c=0;this.element=a[_c];};};}if(!dojo._hasResource["dojox.collections.SortedList"]){dojo._hasResource["dojox.collections.SortedList"]=true;dojo.provide("dojox.collections.SortedList");dojox.collections.SortedList=function(_f){var _10=this;var _11={};var q=[];var _13=function(a,b){if(a.key>b.key){return 1;}if(a.key<b.key){return -1;}return 0;};var _16=function(){q=[];var e=_10.getIterator();while(!e.atEnd()){q.push(e.get());}q.sort(_13);};var _18={};this.count=q.length;this.add=function(k,v){if(!_11[k]){_11[k]=new dojox.collections.DictionaryEntry(k,v);this.count=q.push(_11[k]);q.sort(_13);}};this.clear=function(){_11={};q=[];this.count=q.length;};this.clone=function(){return new dojox.collections.SortedList(this);};this.contains=this.containsKey=function(k){if(_18[k]){return false;}return (_11[k]!=null);};this.containsValue=function(o){var e=this.getIterator();while(!e.atEnd()){var _1e=e.get();if(_1e.value==o){return true;}}return false;};this.copyTo=function(arr,i){var e=this.getIterator();var idx=i;while(!e.atEnd()){arr.splice(idx,0,e.get());idx++;}};this.entry=function(k){return _11[k];};this.forEach=function(fn,_25){dojo.forEach(q,fn,_25);};this.getByIndex=function(i){return q[i].valueOf();};this.getIterator=function(){return new dojox.collections.DictionaryIterator(_11);};this.getKey=function(i){return q[i].key;};this.getKeyList=function(){var arr=[];var e=this.getIterator();while(!e.atEnd()){arr.push(e.get().key);}return arr;};this.getValueList=function(){var arr=[];var e=this.getIterator();while(!e.atEnd()){arr.push(e.get().value);}return arr;};this.indexOfKey=function(k){for(var i=0;i<q.length;i++){if(q[i].key==k){return i;}}return -1;};this.indexOfValue=function(o){for(var i=0;i<q.length;i++){if(q[i].value==o){return i;}}return -1;};this.item=function(k){if(k in _11&&!_18[k]){return _11[k].valueOf();}return undefined;};this.remove=function(k){delete _11[k];_16();this.count=q.length;};this.removeAt=function(i){delete _11[q[i].key];_16();this.count=q.length;};this.replace=function(k,v){if(!_11[k]){this.add(k,v);return false;}else{_11[k]=new dojox.collections.DictionaryEntry(k,v);_16();return true;}};this.setByIndex=function(i,o){_11[q[i].key].value=o;_16();this.count=q.length;};if(_f){var e=_f.getIterator();while(!e.atEnd()){var _38=e.get();q[q.length]=_11[_38.key]=new dojox.collections.DictionaryEntry(_38.key,_38.value);}q.sort(_13);}};}if(!dojo._hasResource["dojox.i18n.common"]){dojo._hasResource["dojox.i18n.common"]=true;dojo.provide("dojox.i18n.common");dojo.i18n.isLTR=function(_39){var _3a=dojo.i18n.normalizeLocale(_39).split("-")[0];var RTL={ar:true,fa:true,he:true,ur:true,yi:true};return !RTL[_3a];};}if(!dojo._hasResource["dojox.i18n.number"]){dojo._hasResource["dojox.i18n.number"]=true;dojo.provide("dojox.i18n.number");dojo.experimental("dojox.i18n.number");dojox.i18n.number.format=function(_3c,_3d,_3e){_3d=(typeof _3d=="object")?_3d:{};var _3f=dojox.i18n.number._mapToLocalizedFormatData(dojox.i18n.number.FORMAT_TABLE,_3e);if(typeof _3d.separator=="undefined"){_3d.separator=_3f[1];}if(typeof _3d.decimal=="undefined"){_3d.decimal=_3f[2];}if(typeof _3d.groupSize=="undefined"){_3d.groupSize=_3f[3];}if(typeof _3d.groupSize2=="undefined"){_3d.groupSize2=_3f[4];}if(typeof _3d.round=="undefined"){_3d.round=true;}if(typeof _3d.signed=="undefined"){_3d.signed=true;}var _40=(_3d.signed&&(_3c<0))?"-":"";_3c=Math.abs(_3c);var _41=String((((_3d.places>0)||!_3d.round)?Math.floor:Math.round)(_3c));function splitSubstrings(str,_43){for(var _44=[];str.length>=_43;str=str.substr(0,str.length-_43)){_44.push(str.substr(-_43));}if(str.length>0){_44.push(str);}return _44.reverse();};if(_3d.groupSize2&&(_41.length>_3d.groupSize)){var _45=splitSubstrings(_41.substr(0,_41.length-_3d.groupSize),_3d.groupSize2);_45.push(_41.substr(-_3d.groupSize));_40=_40+_45.join(_3d.separator);}else{if(_3d.groupSize){_40=_40+splitSubstrings(_41,_3d.groupSize).join(_3d.separator);}else{_40=_40+_41;}}if(_3d.places>0){var _46=_3c-Math.floor(_3c);_46=(_3d.round?Math.round:Math.floor)(_46*Math.pow(10,_3d.places));_40=_40+_3d.decimal+_46;}return _40;};dojox.i18n.number.parse=function(_47,_48,_49){_49=(typeof _49=="object")?_49:{};var _4a=dojox.i18n.number._mapToLocalizedFormatData(dojox.i18n.number.FORMAT_TABLE,_48);if(typeof _49.separator=="undefined"){_49.separator=_4a[1];}if(typeof _49.decimal=="undefined"){_49.decimal=_4a[2];}if(typeof _49.groupSize=="undefined"){_49.groupSize=_4a[3];}if(typeof _49.groupSize2=="undefined"){_49.groupSize2=_4a[4];}if(typeof _49.validate=="undefined"){_49.validate=true;}if(_49.validate&&!dojox.i18n.number.isReal(_47,_48,_49)){return Number.NaN;}var _4b=_47.split(_49.decimal);if(_4b.length>2){return Number.NaN;}var _4c=Number(_4b[0].replace(new RegExp("\\"+_49.separator,"g"),""));var _4d=(_4b.length==1)?0:Number(_4b[1])/Math.pow(10,String(_4b[1]).length);return _4c+_4d;};dojox.i18n.number.isInteger=function(_4e,_4f,_50){_50=(typeof _50=="object")?_50:{};var _51=dojox.i18n.number._mapToLocalizedFormatData(dojox.i18n.number.FORMAT_TABLE,_4f);if(typeof _50.separator=="undefined"){_50.separator=_51[1];}else{if(dojo.isArray(_50.separator)&&_50.separator.length===0){_50.separator=[_51[1],""];}}if(typeof _50.groupSize=="undefined"){_50.groupSize=_51[3];}if(typeof _50.groupSize2=="undefined"){_50.groupSize2=_51[4];}var re=new RegExp("^"+dojo.regexp.integer(_50)+"$");return re.test(_4e);};dojox.i18n.number.isReal=function(_53,_54,_55){_55=(typeof _55=="object")?_55:{};var _56=dojox.i18n.number._mapToLocalizedFormatData(dojox.i18n.number.FORMAT_TABLE,_54);if(typeof _55.separator=="undefined"){_55.separator=_56[1];}else{if(dojo.isArray(_55.separator)&&_55.separator.length===0){_55.separator=[_56[1],""];}}if(typeof _55.decimal=="undefined"){_55.decimal=_56[2];}if(typeof _55.groupSize=="undefined"){_55.groupSize=_56[3];}if(typeof _55.groupSize2=="undefined"){_55.groupSize2=_56[4];}var re=new RegExp("^"+dojo.regexp.realNumber(_55)+"$");return re.test(_53);};(function(){dojox.i18n.number.FORMAT_TABLE={"ar-ae":["","",",",1],"ar-bh":["","",",",1],"ar-dz":["","",",",1],"ar-eg":["","",",",1],"ar-jo":["","",",",1],"ar-kw":["","",",",1],"ar-lb":["","",",",1],"ar-ma":["","",",",1],"ar-om":["","",",",1],"ar-qa":["","",",",1],"ar-sa":["","",",",1],"ar-sy":["","",",",1],"ar-tn":["","",",",1],"ar-ye":["","",",",1],"cs-cz":[".",".",",",3],"da-dk":[".",".",",",3],"de-at":[".",".",",",3],"de-de":[".",".",",",3],"de-lu":[".",".",",",3],"de-ch":["'","'",".",3],"el-gr":[".",".",",",3],"en-au":[",",",",".",3],"en-ca":[",",",",".",3],"en-gb":[",",",",".",3],"en-hk":[",",",",".",3],"en-ie":[",",",",".",3],"en-in":[",",",",".",3,2],"en-nz":[",",",",".",3],"en-us":[",",",",".",3],"en-za":[",",",",".",3],"es-ar":[".",".",",",3],"es-bo":[".",".",",",3],"es-cl":[".",".",",",3],"es-co":[".",".",",",3],"es-cr":[".",".",",",3],"es-do":[".",".",",",3],"es-ec":[".",".",",",3],"es-es":[".",".",",",3],"es-gt":[",",",",".",3],"es-hn":[",",",",".",3],"es-mx":[",",",",".",3],"es-ni":[",",",",".",3],"es-pa":[",",",",".",3],"es-pe":[",",",",".",3],"es-pr":[",",",",".",3],"es-py":[".",".",",",3],"es-sv":[",",",",".",3],"es-uy":[".",".",",",3],"es-ve":[".",".",",",3],"fi-fi":[" "," ",",",3],"fr-be":[".",".",",",3],"fr-ca":[" "," ",",",3],"fr-ch":[" "," ",".",3],"fr-fr":[" "," ",",",3],"fr-lu":[".",".",",",3],"he-il":[",",",",".",3],"hu-hu":[" "," ",",",3],"it-ch":[" "," ",".",3],"it-it":[".",".",",",3],"ja-jp":[",",",",".",3],"ko-kr":[",",",",".",3],"no-no":[".",".",",",3],"nl-be":[" "," ",",",3],"nl-nl":[".",".",",",3],"pl-pl":[".",".",",",3],"pt-br":[".",".",",",3],"pt-pt":[".",".","$",3],"ru-ru":[" "," ",",",3],"sv-se":["."," ",",",3],"tr-tr":[".",".",",",3],"zh-cn":[",",",",".",3],"zh-hk":[",",",",".",3],"zh-tw":[",",",",".",3],"*":[",",",",".",3]};})();dojox.i18n.number._mapToLocalizedFormatData=function(_58,_59){_59=dojo.i18n.normalizeLocale(_59);var _5a=_58[_59];if(typeof _5a=="undefined"){_5a=_58["*"];}return _5a;};}if(!dojo._hasResource["dojox.i18n.currency"]){dojo._hasResource["dojox.i18n.currency"]=true;dojo.provide("dojox.i18n.currency");dojo.experimental("dojox.i18n.currency");dojox.i18n.currency.format=function(_5b,iso,_5d,_5e){_5d=(typeof _5d=="object")?_5d:{};var _5f=dojox.i18n.currency._mapToLocalizedFormatData(dojox.i18n.currency.FORMAT_TABLE,iso,_5e);if(typeof _5d.places=="undefined"){_5d.places=_5f.places;}if(typeof _5d.places=="undefined"){_5d.places=2;}_5d.signed=false;var _60=dojox.i18n.number.format(_5b,_5d,_5e);var sym=_5f.symbol;if(_5f.adjSpace=="symbol"){if(_5f.placement=="after"){sym=" "+sym;}else{sym=sym+" ";}}if(_5b<0){if(_5f.signPlacement=="before"){sym="-"+sym;}else{if(_5f.signPlacement=="after"){sym=sym+"-";}}}var spc=(_5f.adjSpace=="number")?" ":"";if(_5f.placement=="after"){_60=_60+spc+sym;}else{_60=sym+spc+_60;}if(_5b<0){if(_5f.signPlacement=="around"){_60="("+_60+")";}else{if(_5f.signPlacement=="end"){_60=_60+"-";}else{if(!_5f.signPlacement||_5f.signPlacement=="begin"){_60="-"+_60;}}}}return _60;};dojox.i18n.currency.parse=function(_63,iso,_65,_66){if(typeof _66.validate=="undefined"){_66.validate=true;}if(_66.validate&&!dojox.i18n.number.isCurrency(_63,iso,_65,_66)){return Number.NaN;}var _67=(_63.indexOf("-")!=-1);var abs=abs.replace(/\-/,"");var _69=dojox.i18n.currency._mapToLocalizedFormatData(dojox.i18n.currency.FORMAT_TABLE,iso,_65);abs=abs.replace(new RegExp("\\"+_69.symbol),"");var _6a=dojox.i18n.number.parse(abs,_65,_66);if(_67){_6a=_6a*-1;}return _6a;};dojox.i18n.currency.isCurrency=function(_6b,iso,_6d,_6e){_6e=(typeof _6e=="object")?_6e:{};var _6f=dojox.i18n.number._mapToLocalizedFormatData(dojox.i18n.number.FORMAT_TABLE,_6d);if(typeof _6e.separator=="undefined"){_6e.separator=_6f[0];}else{if(dojo.isArray(_6e.separator)&&_6e.separator.length==0){_6e.separator=[_6f[0],""];}}if(typeof _6e.decimal=="undefined"){_6e.decimal=_6f[2];}if(typeof _6e.groupSize=="undefined"){_6e.groupSize=_6f[3];}if(typeof _6e.groupSize2=="undefined"){_6e.groupSize2=_6f[4];}var _70=dojox.i18n.currency._mapToLocalizedFormatData(dojox.i18n.currency.FORMAT_TABLE,iso,_6d);if(typeof _6e.places=="undefined"){_6e.places=_70.places;}if(typeof _6e.places=="undefined"){_6e.places=2;}if(typeof _6e.symbol=="undefined"){_6e.symbol=_70.symbol;}else{if(dojo.isArray(_6e.symbol)&&_6e.symbol.length==0){_6e.symbol=[_70.symbol,""];}}if(typeof _6e.placement=="undefined"){_6e.placement=_70.placement;}var re=new RegExp("^"+dojo.regexp.currency(_6e)+"$");return re.test(_6b);};dojox.i18n.currency._mapToLocalizedFormatData=function(_72,iso,_74){var _75=dojox.i18n.currency.FORMAT_TABLE[iso];if(!dojo.isArray(_75)){return _75;}return dojox.i18n.number._mapToLocalizedFormatData(_75[0],_74);};(function(){var _76={symbol:"ج",placement:"after",htmlSymbol:"?"};var _77={symbol:"€",placement:"before",adjSpace:"symbol",htmlSymbol:"&euro;"};var _78={symbol:"€",placement:"after",htmlSymbol:"&euro;"};dojox.i18n.currency.FORMAT_TABLE={AED:{symbol:"ج",placement:"after"},ARS:{symbol:"$",signPlacement:"after"},ATS:{symbol:"€",adjSpace:"number",signPlacement:"after",htmlSymbol:"&euro;"},AUD:{symbol:"$"},BOB:{symbol:"$b"},BRL:{symbol:"R$",adjSpace:"symbol"},BEF:_78,BHD:_76,CAD:[{"*":{symbol:"$"},"fr-ca":{symbol:"$",placement:"after",signPlacement:"around"}}],CHF:{symbol:"CHF",adjSpace:"symbol",signPlacement:"after"},CLP:{symbol:"$"},COP:{symbol:"$",signPlacement:"around"},CNY:{symbol:"¥",htmlSymbol:"&yen;"},CRC:{symbol:"₡",signPlacement:"after",htmlSymbol:"?"},CZK:{symbol:"Kc",adjSpace:"symbol",signPlacement:"after"},DEM:_78,DKK:{symbol:"kr.",adjSpace:"symbol",signPlacement:"after"},DOP:{symbol:"$"},DZD:_76,ECS:{symbol:"$",signPlacement:"after"},EGP:_76,ESP:_78,EUR:_77,FIM:_78,FRF:_78,GBP:{symbol:"£",htmlSymbol:"&pound;"},GRD:{symbol:"€",signPlacement:"end",htmlSymbol:"&euro;"},GTQ:{symbol:"Q",signPlacement:"after"},HKD:{symbol:"HK$"},HNL:{symbol:"L.",signPlacement:"end"},HUF:{symbol:"Ft",placement:"after",adjSpace:"symbol"},IEP:{symbol:"€",htmlSymbol:"&euro;"},ILS:{symbol:"ש\"ח",placement:"after",htmlSymbol:"?"},INR:{symbol:"Rs."},ITL:{symbol:"€",signPlacement:"after",htmlSymbol:"&euro;"},JOD:_76,JPY:{symbol:"¥",places:0,htmlSymbol:"&yen;"},KRW:{symbol:"₩",places:0,htmlSymbol:"?"},KWD:_76,LBP:_76,LUF:_78,MAD:_76,MXN:{symbol:"$",signPlacement:"around"},NIO:{symbol:"C$",adjSpace:"symbol",signPlacement:"after"},NLG:{symbol:"€",signPlacement:"end",htmlSymbol:"&euro;"},NOK:{symbol:"kr",adjSpace:"symbol",signPlacement:"after"},NZD:{symbol:"$"},OMR:_76,PAB:{symbol:"B/",adjSpace:"symbol",signPlacement:"after"},PEN:{symbol:"S/",signPlacement:"after"},PLN:{symbol:"z",placement:"after"},PTE:_78,PYG:{symbol:"Gs.",signPlacement:"after"},QAR:_76,RUR:{symbol:"rub.",placement:"after"},SAR:_76,SEK:{symbol:"kr",placement:"after",adjSpace:"symbol"},SGD:{symbol:"$"},SVC:{symbol:"₡",signPlacement:"after",adjSpace:"symbol"},SYP:_76,TND:_76,TRL:{symbol:"TL",placement:"after"},TWD:{symbol:"NT$"},USD:{symbol:"$"},UYU:{symbol:"$U",signplacement:"after",adjSpace:"symbol"},VEB:{symbol:"Bs",signplacement:"after",adjSpace:"symbol"},YER:_76,ZAR:{symbol:"R",signPlacement:"around"}};})();}if(!dojo._hasResource["dojox.validate.regexp"]){dojo._hasResource["dojox.validate.regexp"]=true;dojo.provide("dojox.validate.regexp");dojox.regexp={ca:{},us:{}};dojox.regexp.tld=function(_79){_79=(typeof _79=="object")?_79:{};if(typeof _79.allowCC!="boolean"){_79.allowCC=true;}if(typeof _79.allowInfra!="boolean"){_79.allowInfra=true;}if(typeof _79.allowGeneric!="boolean"){_79.allowGeneric=true;}var _7a="arpa";var _7b="aero|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|xxx|jobs|mobi|post";var _7c="ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|"+"bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|"+"ec|ee|eg|er|eu|es|et|fi|fj|fk|fm|fo|fr|ga|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|"+"gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kr|kw|ky|kz|"+"la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|"+"my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|"+"re|ro|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sk|sl|sm|sn|sr|st|su|sv|sy|sz|tc|td|tf|tg|th|tj|tk|tm|"+"tn|to|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|yu|za|zm|zw";var a=[];if(_79.allowInfra){a.push(_7a);}if(_79.allowGeneric){a.push(_7b);}if(_79.allowCC){a.push(_7c);}var _7e="";if(a.length>0){_7e="("+a.join("|")+")";}return _7e;};dojox.regexp.ipAddress=function(_7f){_7f=(typeof _7f=="object")?_7f:{};if(typeof _7f.allowDottedDecimal!="boolean"){_7f.allowDottedDecimal=true;}if(typeof _7f.allowDottedHex!="boolean"){_7f.allowDottedHex=true;}if(typeof _7f.allowDottedOctal!="boolean"){_7f.allowDottedOctal=true;}if(typeof _7f.allowDecimal!="boolean"){_7f.allowDecimal=true;}if(typeof _7f.allowHex!="boolean"){_7f.allowHex=true;}if(typeof _7f.allowIPv6!="boolean"){_7f.allowIPv6=true;}if(typeof _7f.allowHybrid!="boolean"){_7f.allowHybrid=true;}var _80="((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var _81="(0[xX]0*[\\da-fA-F]?[\\da-fA-F]\\.){3}0[xX]0*[\\da-fA-F]?[\\da-fA-F]";var _82="(0+[0-3][0-7][0-7]\\.){3}0+[0-3][0-7][0-7]";var _83="(0|[1-9]\\d{0,8}|[1-3]\\d{9}|4[01]\\d{8}|42[0-8]\\d{7}|429[0-3]\\d{6}|"+"4294[0-8]\\d{5}|42949[0-5]\\d{4}|429496[0-6]\\d{3}|4294967[01]\\d{2}|42949672[0-8]\\d|429496729[0-5])";var _84="0[xX]0*[\\da-fA-F]{1,8}";var _85="([\\da-fA-F]{1,4}\\:){7}[\\da-fA-F]{1,4}";var _86="([\\da-fA-F]{1,4}\\:){6}"+"((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";var a=[];if(_7f.allowDottedDecimal){a.push(_80);}if(_7f.allowDottedHex){a.push(_81);}if(_7f.allowDottedOctal){a.push(_82);}if(_7f.allowDecimal){a.push(_83);}if(_7f.allowHex){a.push(_84);}if(_7f.allowIPv6){a.push(_85);}if(_7f.allowHybrid){a.push(_86);}var _88="";if(a.length>0){_88="("+a.join("|")+")";}return _88;};dojox.regexp.host=function(_89){_89=(typeof _89=="object")?_89:{};if(typeof _89.allowIP!="boolean"){_89.allowIP=true;}if(typeof _89.allowLocal!="boolean"){_89.allowLocal=false;}if(typeof _89.allowPort!="boolean"){_89.allowPort=true;}var _8a="([0-9a-zA-Z]([-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?\\.)+"+dojox.regexp.tld(_89);var _8b=(_89.allowPort)?"(\\:"+dojox.regexp.integer({signed:false})+")?":"";var _8c=_8a;if(_89.allowIP){_8c+="|"+dojox.regexp.ipAddress(_89);}if(_89.allowLocal){_8c+="|localhost";}return "("+_8c+")"+_8b;};dojox.regexp.url=function(_8d){_8d=(typeof _8d=="object")?_8d:{};if(typeof _8d.scheme=="undefined"){_8d.scheme=[true,false];}var _8e=dojo.regexp.buildGroupRE(_8d.scheme,function(q){if(q){return "(https?|ftps?)\\://";}return "";});var _90="(/([^?#\\s/]+/)*)?([^?#\\s/]+(\\?[^?#\\s/]*)?(#[A-Za-z][\\w.:-]*)?)?";return _8e+dojox.regexp.host(_8d)+_90;};dojox.regexp.emailAddress=function(_91){_91=(typeof _91=="object")?_91:{};if(typeof _91.allowCruft!="boolean"){_91.allowCruft=false;}_91.allowPort=false;var _92="([\\da-zA-Z]+[-._+&'])*[\\da-zA-Z]+";var _93=_92+"@"+dojox.regexp.host(_91);if(_91.allowCruft){_93="<?(mailto\\:)?"+_93+">?";}return _93;};dojox.regexp.emailAddressList=function(_94){_94=(typeof _94=="object")?_94:{};if(typeof _94.listSeparator!="string"){_94.listSeparator="\\s;,";}var _95=dojox.regexp.emailAddress(_94);var _96="("+_95+"\\s*["+_94.listSeparator+"]\\s*)*"+_95+"\\s*["+_94.listSeparator+"]?\\s*";return _96;};dojox.regexp.us.state=function(_97){_97=(typeof _97=="object")?_97:{};if(typeof _97.allowTerritories!="boolean"){_97.allowTerritories=true;}if(typeof _97.allowMilitary!="boolean"){_97.allowMilitary=true;}var _98="AL|AK|AZ|AR|CA|CO|CT|DE|DC|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|"+"NE|NV|NH|NJ|NM|NY|NC|ND|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY";var _99="AS|FM|GU|MH|MP|PW|PR|VI";var _9a="AA|AE|AP";if(_97.allowTerritories){_98+="|"+_99;}if(_97.allowMilitary){_98+="|"+_9a;}return "("+_98+")";};dojox.regexp.ca.postalCode=function(){var _9b="[A-Z][0-9][A-Z] [0-9][A-Z][0-9]";return "("+_9b+")";};dojox.regexp.ca.province=function(){var _9c="AB|BC|MB|NB|NL|NS|NT|NU|ON|PE|QC|SK|YT";return "("+statesRE+")";};dojox.regexp.numberFormat=function(_9d){_9d=(typeof _9d=="object")?_9d:{};if(typeof _9d.format=="undefined"){_9d.format="###-###-####";}var _9e=function(_9f){_9f=dojo.regexp.escapeString(_9f,"?");_9f=_9f.replace(/\?/g,"\\d?");_9f=_9f.replace(/#/g,"\\d");return _9f;};return dojo.regexp.buildGroupRE(_9d.format,_9e);};}if(!dojo._hasResource["dojox.validate._base"]){dojo._hasResource["dojox.validate._base"]=true;dojo.provide("dojox.validate._base");dojox.validate.isText=function(_a0,_a1){_a1=(typeof _a1=="object")?_a1:{};if(/^\s*$/.test(_a0)){return false;}if(typeof _a1.length=="number"&&_a1.length!=_a0.length){return false;}if(typeof _a1.minlength=="number"&&_a1.minlength>_a0.length){return false;}if(typeof _a1.maxlength=="number"&&_a1.maxlength<_a0.length){return false;}return true;};dojox.validate._isInRangeCache={};dojox.validate.isInRange=function(_a2,_a3){_a2=dojo.number.parse(_a2,_a3);if(isNaN(_a2)){return false;}_a3=(typeof _a3=="object")?_a3:{};var max=(typeof _a3.max=="number")?_a3.max:Infinity;var min=(typeof _a3.min=="number")?_a3.min:-Infinity;var dec=(typeof _a3.decimal=="string")?_a3.decimal:".";var _a7=dojox.validate._isInRangeCache;var _a8=_a2+"max"+max+"min"+min+"dec"+dec;if(typeof _a7[_a8]!="undefined"){return _a7[_a8];}if(_a2<min||_a2>max){_a7[_a8]=false;return false;}_a7[_a8]=true;return true;};dojox.validate.isNumberFormat=function(_a9,_aa){var re=new RegExp("^"+dojox.regexp.numberFormat(_aa)+"$","i");return re.test(_a9);};dojox.validate.isValidLuhn=function(_ac){var sum,_ae,_af;if(typeof _ac!="string"){_ac=String(_ac);}_ac=_ac.replace(/[- ]/g,"");_ae=_ac.length%2;sum=0;for(var i=0;i<_ac.length;i++){_af=parseInt(_ac.charAt(i));if(i%2==_ae){_af*=2;}if(_af>9){_af-=9;}sum+=_af;}return !(sum%10);};}if(!dojo._hasResource["dojox.validate.creditCard"]){dojo._hasResource["dojox.validate.creditCard"]=true;dojo.provide("dojox.validate.creditCard");dojox.validate.isValidCreditCard=function(_b1,_b2){if(_b1&&_b2&&((_b2.toLowerCase()=="er"||dojox.validate.isValidLuhn(_b1))&&(dojox.validate.isValidCreditCardNumber(_b1,_b2.toLowerCase())))){return true;}return false;};dojox.validate.isValidCreditCardNumber=function(_b3,_b4){if(typeof _b3!="string"){_b3=String(_b3);}_b3=_b3.replace(/[- ]/g,"");var _b5=[];var _b6={"mc":"5[1-5][0-9]{14}","ec":"5[1-5][0-9]{14}","vi":"4([0-9]{12}|[0-9]{15})","ax":"3[47][0-9]{13}","dc":"3(0[0-5][0-9]{11}|[68][0-9]{12})","bl":"3(0[0-5][0-9]{11}|[68][0-9]{12})","di":"6011[0-9]{12}","jcb":"(3[0-9]{15}|(2131|1800)[0-9]{11})","er":"2(014|149)[0-9]{11}"};if(_b4&&dojo.indexOf(_b6,_b4.toLowerCase())){return Boolean(_b3.match(_b6[_b4.toLowerCase()]));}else{for(var p in _b6){if(_b3.match("^"+_b6[p]+"$")!=null){_b5.push(p);}}return (_b5.length)?_b5.join("|"):false;}};dojox.validate.isValidCvv=function(_b8,_b9){if(typeof _b8!="string"){_b8=String(_b8);}var _ba;switch(_b9.toLowerCase()){case "mc":case "ec":case "vi":case "di":_ba="###";break;case "ax":_ba="####";break;default:return false;}var _bb={format:_ba};if((_b8.length==_ba.length)&&(dojox.validate.isNumberFormat(_b8,_bb))){return true;}return false;};}if(!dojo._hasResource["dojox.layout.ContentPane"]){dojo._hasResource["dojox.layout.ContentPane"]=true;dojo.provide("dojox.layout.ContentPane");(function(){if(dojo.isIE){var _bc=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;}var _bd=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g;function adjustCssPaths(_be,_bf){if(!_bf||!_be){return;}if(_bc){_bf=_bf.replace(_bc,function(_c0,pre,_c2,url,_c4){return pre+(new dojo._Url(_be,"./"+url).toString())+_c4;});}return _bf.replace(_bd,function(_c5,_c6,_c7,_c8,_c9,_ca){if(_c7){return "@import \""+(new dojo._Url(_be,"./"+_c7).toString())+"\""+_ca;}else{return "url("+(new dojo._Url(_be,"./"+_c9).toString())+")"+_ca;}});};var _cb=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi;function adjustHtmlPaths(_cc,_cd){var url=_cc||"./";return _cd.replace(_cb,function(tag,_d0,_d1,_d2,_d3,_d4,_d5,end){return _d0+(_d1?(_d1+"="+_d2+(new dojo._Url(url,_d3).toString())+_d2):("style="+_d4+adjustCssPaths(url,_d5)+_d4))+end;});};function secureForInnerHtml(_d7){return _d7.replace(/(?:\s*<!DOCTYPE\s[^>]+>|<title[^>]*>[\s\S]*?<\/title>)/ig,"");};function snarfStyles(_d8,_d9,_da){_da.attributes=[];return _d9.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(_db,_dc,_dd,_de,_df,_e0){var i,_e2=(_dc||_de||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");if(_dd){i=_da.push(_d8?adjustCssPaths(_d8,_dd):_dd);}else{i=_da.push("@import \""+_e0+"\";");_e2=_e2.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,"");}if(_e2){_e2=_e2.split(/\s+/);var _e3={},tmp;for(var j=0,e=_e2.length;j<e;j++){tmp=_e2[j].split("=");_e3[tmp[0]]=tmp[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");}_da.attributes[i-1]=_e3;}return "";});};function snarfScripts(_e7,_e8){_e8.code="";function download(src){if(_e8.downloadRemote){dojo.xhrGet({url:src,sync:true,load:function(_ea){_e8.code+=_ea+";";},error:_e8.errBack});}};return _e7.replace(/<script\s*(?![^>]*type=['"]?dojo)(?:[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?)*>([\s\S]*?)<\/script>/gi,function(_eb,_ec,src,_ee){if(src){download(src);}else{_e8.code+=_ee;}return "";});};function evalInGlobal(_ef,_f0){_f0=_f0||dojo.doc.body;var n=_f0.ownerDocument.createElement("script");n.type="text/javascript";_f0.appendChild(n);n.text=_ef;};dojo.declare("dojox.layout.ContentPane",dijit.layout.ContentPane,{adjustPaths:false,cleanContent:false,renderStyles:false,executeScripts:true,scriptHasHooks:false,constructor:function(){this.ioArgs={};this.ioMethod=dojo.xhrGet;this.onLoadDeferred=new dojo.Deferred();this.onUnloadDeferred=new dojo.Deferred();},postCreate:function(){this._setUpDeferreds();dijit.layout.ContentPane.prototype.postCreate.apply(this,arguments);},onExecError:function(e){},setContent:function(_f3){if(!this._isDownloaded){var _f4=this._setUpDeferreds();}dijit.layout.ContentPane.prototype.setContent.apply(this,arguments);return _f4;},cancel:function(){if(this._xhrDfd&&this._xhrDfd.fired==-1){this.onUnloadDeferred=null;}dijit.layout.ContentPane.prototype.cancel.apply(this,arguments);},_setUpDeferreds:function(){var _t=this,_f6=function(){_t.cancel();};var _f7=(_t.onLoadDeferred=new dojo.Deferred());var _f8=(_t._nextUnloadDeferred=new dojo.Deferred());return {cancel:_f6,addOnLoad:function(_f9){_f7.addCallback(_f9);},addOnUnload:function(_fa){_f8.addCallback(_fa);}};},_onLoadHandler:function(){dijit.layout.ContentPane.prototype._onLoadHandler.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.callback(true);}},_onUnloadHandler:function(){this.isLoaded=false;this.cancel();if(this.onUnloadDeferred){this.onUnloadDeferred.callback(true);}dijit.layout.ContentPane.prototype._onUnloadHandler.apply(this,arguments);if(this._nextUnloadDeferred){this.onUnloadDeferred=this._nextUnloadDeferred;}},_onError:function(_fb,err){dijit.layout.ContentPane.prototype._onError.apply(this,arguments);if(this.onLoadDeferred){this.onLoadDeferred.errback(err);}},_prepareLoad:function(_fd){var _fe=this._setUpDeferreds();dijit.layout.ContentPane.prototype._prepareLoad.apply(this,arguments);return _fe;},_setContent:function(_ff){var _100=[];if(dojo.isString(_ff)){if(this.adjustPaths&&this.href){_ff=adjustHtmlPaths(this.href,_ff);}if(this.cleanContent){_ff=secureForInnerHtml(_ff);}if(this.renderStyles||this.cleanContent){_ff=snarfStyles(this.href,_ff,_100);}if(this.executeScripts){var _t=this,code,_103={downloadRemote:true,errBack:function(e){_t._onError.call(_t,"Exec","Error downloading remote script in \""+_t.id+"\"",e);}};_ff=snarfScripts(_ff,_103);code=_103.code;}var node=(this.containerNode||this.domNode),pre=post="",walk=0;switch(name=node.nodeName.toLowerCase()){case "tr":pre="<tr>";post="</tr>";walk+=1;case "tbody":case "thead":pre="<tbody>"+pre;post+="</tbody>";walk+=1;case "table":pre="<table>"+pre;post+="</table>";walk+=1;break;}if(walk){var n=node.ownerDocument.createElement("div");n.innerHTML=pre+_ff+post;do{n=n.firstChild;}while(--walk);_ff=n.childNodes;}}dijit.layout.ContentPane.prototype._setContent.call(this,_ff);if(this._styleNodes&&this._styleNodes.length){while(this._styleNodes.length){dojo._destroyElement(this._styleNodes.pop());}}if(this.renderStyles&&_100&&_100.length){this._renderStyles(_100);}if(this.executeScripts&&code){if(this.cleanContent){code=code.replace(/(<!--|(?:\/\/)?-->|<!\[CDATA\[|\]\]>)/g,"");}if(this.scriptHasHooks){code=code.replace(/_container_(?!\s*=[^=])/g,"dijit.byId('"+this.id+"')");}try{evalInGlobal(code,(this.containerNode||this.domNode));}catch(e){this._onError("Exec","Error eval script in "+this.id+", "+e.message,e);}}},_renderStyles:function(_109){this._styleNodes=[];var st,att,_10c,doc=this.domNode.ownerDocument;var head=doc.getElementsByTagName("head")[0];for(var i=0,e=_109.length;i<e;i++){_10c=_109[i];att=_109.attributes[i];st=doc.createElement("style");st.setAttribute("type","text/css");for(var x in att){st.setAttribute(x,att[x]);}this._styleNodes.push(st);head.appendChild(st);if(st.styleSheet){st.styleSheet.cssText=_10c;}else{st.appendChild(doc.createTextNode(_10c));}}}});})();}if(!dojo._hasResource["dojox.Dialog"]){dojo._hasResource["dojox.Dialog"]=true;dojo.provide("dojox.Dialog");dojo.declare("dojox.Dialog",[dojox.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{templateString:null,templateString:"<div class=\"dijitDialog\">\r\n\t<div dojoAttachPoint=\"titleBar\" class=\"dijitDialogTitleBar\" tabindex=\"0\" waiRole=\"dialog\">\r\n\t<span dojoAttachPoint=\"titleNode\" class=\"dijitDialogTitle\">${title}</span>\r\n\t<span dojoAttachPoint=\"closeButtonNode\" class=\"dijitDialogCloseIcon\" dojoAttachEvent=\"onclick: hide\">\r\n\t\t<span dojoAttachPoint=\"closeText\" class=\"closeText\">x</span>\r\n\t</span>\r\n\t</div>\r\n\t\t<div dojoAttachPoint=\"containerNode\" class=\"dijitDialogPaneContent\"></div>\r\n\t<span dojoAttachPoint=\"tabEnd\" dojoAttachEvent=\"onfocus:_cycleFocus\" tabindex=\"0\"></span>\r\n</div>\r\n",open:false,duration:100,_lastFocusItem:null,attributeMap:dojo.mixin(dojo.clone(dijit._Widget.prototype.attributeMap),{title:"titleBar"}),postCreate:function(){dojo.body().appendChild(this.domNode);this.inherited("postCreate",arguments);this.domNode.style.display="none";this.connect(this,"onExecute","hide");this.connect(this,"onCancel","hide");},onLoad:function(){this._position();this.inherited("onLoad",arguments);},_setup:function(){this._modalconnects=[];if(this.titleBar){this._moveable=new dojo.dnd.Moveable(this.domNode,{handle:this.titleBar});}this._underlay=new dijit.DialogUnderlay();var node=this.domNode;this._fadeIn=dojo.fx.combine([dojo.fadeIn({node:node,duration:this.duration}),dojo.fadeIn({node:this._underlay.domNode,duration:this.duration,onBegin:dojo.hitch(this._underlay,"show")})]);this._fadeOut=dojo.fx.combine([dojo.fadeOut({node:node,duration:this.duration,onEnd:function(){node.style.display="none";}}),dojo.fadeOut({node:this._underlay.domNode,duration:this.duration,onEnd:dojo.hitch(this._underlay,"hide")})]);},uninitialize:function(){if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}if(this._underlay){this._underlay.destroy();}},_position:function(){if(dojo.hasClass(dojo.body(),"dojoMove")){return;}var _113=dijit.getViewport();var mb=dojo.marginBox(this.domNode);var _115=this.domNode.style;_115.left=Math.floor((_113.l+(_113.w-mb.w)/2))+"px";_115.top=Math.floor((_113.t+(_113.h-mb.h)/2))+"px";},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.titleBar.focus();},_onKey:function(evt){if(evt.keyCode){var node=evt.target;if(node==this.titleBar&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}else{while(node){if(node==this.domNode){if(evt.keyCode==dojo.keys.ESCAPE){this.hide();}else{return;}}node=node.parentNode;}if(evt.keyCode!=dojo.keys.TAB){dojo.stopEvent(evt);}else{if(!dojo.isOpera){try{this.titleBar.focus();}catch(e){}}}}}},show:function(){if(!this._alreadyInitialized){this._setup();this._alreadyInitialized=true;}if(this._fadeOut.status()=="playing"){this._fadeOut.stop();}this._modalconnects.push(dojo.connect(window,"onscroll",this,"layout"));this._modalconnects.push(dojo.connect(document.documentElement,"onkeypress",this,"_onKey"));var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this._modalconnects.push(dojo.connect(this.containerNode,ev,this,"_findLastFocus"));dojo.style(this.domNode,"opacity",0);this.domNode.style.display="block";this.open=true;this._loadCheck();this._position();this._fadeIn.play();this._savedFocus=dijit.getFocus(this);setTimeout(dojo.hitch(this,function(){dijit.focus(this.titleBar);}),50);},hide:function(){if(!this._alreadyInitialized){return;}if(this._fadeIn.status()=="playing"){this._fadeIn.stop();}this._fadeOut.play();if(this._scrollConnected){this._scrollConnected=false;}dojo.forEach(this._modalconnects,dojo.disconnect);this._modalconnects=[];this.connect(this._fadeOut,"onEnd",dojo.hitch(this,function(){dijit.focus(this._savedFocus);}));this.open=false;},layout:function(){if(this.domNode.style.display=="block"){this._underlay.layout();this._position();}}});dojo.declare("dijit.TooltipDialog",[dojox.layout.ContentPane,dijit._Templated,dijit.form._FormMixin],{title:"",_lastFocusItem:null,templateString:null,templateString:"<div class=\"dijitTooltipDialog\" >\r\n\t<div class=\"dijitTooltipContainer\">\r\n\t\t<div class =\"dijitTooltipContents dijitTooltipFocusNode\" dojoAttachPoint=\"containerNode\" tabindex=\"0\" waiRole=\"dialog\"></div>\r\n\t</div>\r\n\t<span dojoAttachPoint=\"tabEnd\" tabindex=\"0\" dojoAttachEvent=\"focus:_cycleFocus\"></span>\r\n\t<div class=\"dijitTooltipConnector\" ></div>\r\n</div>\r\n",postCreate:function(){this.inherited("postCreate",arguments);this.connect(this.containerNode,"onkeypress","_onKey");var ev=typeof (document.ondeactivate)=="object"?"ondeactivate":"onblur";this.connect(this.containerNode,ev,"_findLastFocus");this.containerNode.title=this.title;},orient:function(_11c){this.domNode.className="dijitTooltipDialog "+"dijitTooltipAB"+(_11c.charAt(1)=="L"?"Left":"Right")+"dijitTooltip"+(_11c.charAt(0)=="T"?"Below":"Above");},onOpen:function(pos){this.orient(pos.corner);this._loadCheck();this.containerNode.focus();},_onKey:function(evt){if(evt.keyCode==dojo.keys.ESCAPE){this.onCancel();}else{if(evt.target==this.containerNode&&evt.shiftKey&&evt.keyCode==dojo.keys.TAB){if(this._lastFocusItem){this._lastFocusItem.focus();}dojo.stopEvent(evt);}else{if(evt.keyCode==dojo.keys.TAB){evt.stopPropagation();}}}},_findLastFocus:function(evt){this._lastFocused=evt.target;},_cycleFocus:function(evt){if(!this._lastFocusItem){this._lastFocusItem=this._lastFocused;}this.containerNode.focus();}});}if(!dojo._hasResource["dojox.grid._grid.lib"]){dojo._hasResource["dojox.grid._grid.lib"]=true;dojo.provide("dojox.grid._grid.lib");dojo.isNumber=function(v){return (typeof v=="number")||(v instanceof Number);};dojo.mixin(dojox.grid,{na:"...",nop:function(){},getTdIndex:function(td){return td.cellIndex>=0?td.cellIndex:dojo.indexOf(td.parentNode.cells,td);},getTrIndex:function(tr){return tr.rowIndex>=0?tr.rowIndex:dojo.indexOf(tr.parentNode.childNodes,tr);},getTr:function(_124,_125){return _124&&((_124.rows||0)[_125]||_124.childNodes[_125]);},getTd:function(_126,_127,_128){return (dojox.grid.getTr(inTable,_127)||0)[_128];},findTable:function(node){for(var n=node;n&&n.tagName!="TABLE";n=n.parentNode){}return n;},ascendDom:function(_12b,_12c){for(var n=_12b;n&&_12c(n);n=n.parentNode){}return n;},makeNotTagName:function(_12e){var name=_12e.toUpperCase();return function(node){return node.tagName!=name;};},fire:function(ob,ev,args){var fn=ob&&ev&&ob[ev];return fn&&(args?fn.apply(ob,args):ob[ev]());},setStyleText:function(_135,_136){if(_135.style.cssText==undefined){_135.setAttribute("style",_136);}else{_135.style.cssText=_136;}},getStyleText:function(_137,_138){return (_137.style.cssText==undefined?_137.getAttribute("style"):_137.style.cssText);},setStyle:function(_139,_13a,_13b){if(_139&&_139.style[_13a]!=_13b){_139.style[_13a]=_13b;}},setStyleHeightPx:function(_13c,_13d){if(_13d>=0){dojox.grid.setStyle(_13c,"height",_13d+"px");}},mouseEvents:["mouseover","mouseout","mousedown","mouseup","click","dblclick","contextmenu"],keyEvents:["keyup","keydown","keypress"],funnelEvents:function(_13e,_13f,_140,_141){var evts=(_141?_141:dojox.grid.mouseEvents.concat(dojox.grid.keyEvents));for(var i=0,l=evts.length;i<l;i++){dojo.connect(_13e,"on"+evts[i],_13f,_140);}},removeNode:function(_145){_145=dojo.byId(_145);_145&&_145.parentNode&&_145.parentNode.removeChild(_145);return _145;},getScrollbarWidth:function(){if(this._scrollBarWidth){return this._scrollBarWidth;}this._scrollBarWidth=18;try{var e=document.createElement("div");e.style.cssText="top:0;left:0;width:100px;height:100px;overflow:scroll;position:absolute;visibility:hidden;";document.body.appendChild(e);this._scrollBarWidth=e.offsetWidth-e.clientWidth;document.body.removeChild(e);delete e;}catch(ex){}return this._scrollBarWidth;},getRef:function(name,_148,_149){var obj=_149||dojo.global,_14b=name.split("."),prop=_14b.pop();for(var i=0,p;obj&&(p=_14b[i]);i++){obj=(p in obj?obj[p]:(_148?obj[p]={}:undefined));}return {obj:obj,prop:prop};},getProp:function(name,_150,_151){with(dojox.grid.getRef(name,_150,_151)){return (obj)&&(prop)&&(prop in obj?obj[prop]:(_150?obj[prop]={}:undefined));}},indexInParent:function(_152){var i=0,n,p=_152.parentNode;while(n=p.childNodes[i++]){if(n==_152){return i-1;}}return -1;},cleanNode:function(_156){if(!_156){return;}var _157=function(inW){return inW.domNode&&dojo.isDescendant(inW.domNode,_156,true);};var ws=dijit.registry.filter(_157);for(var i=0,w;(w=ws[i]);i++){w.destroy();}delete ws;},getTagName:function(_15c){var node=dojo.byId(_15c);return (node&&node.tagName?node.tagName.toLowerCase():"");},nodeKids:function(_15e,_15f){var _160=[];var i=0,n;while(n=_15e.childNodes[i++]){if(dojox.grid.getTagName(n)==_15f){_160.push(n);}}return _160;},divkids:function(_163){return dojox.grid.nodeKids(_163,"div");},focusSelectNode:function(_164){try{dojox.grid.fire(_164,"focus");dojox.grid.fire(_164,"select");}catch(e){}},whenIdle:function(){setTimeout(dojo.hitch.apply(dojo,arguments),0);},arrayCompare:function(inA,inB){for(var i=0,l=inA.length;i<l;i++){if(inA[i]!=inB[i]){return false;}}return (inA.length==inB.length);},arrayInsert:function(_169,_16a,_16b){if(_169.length<=_16a){_169[_16a]=_16b;}else{_169.splice(_16a,0,_16b);}},arrayRemove:function(_16c,_16d){_16c.splice(_16d,1);},arraySwap:function(_16e,inI,inJ){var _171=_16e[inI];_16e[inI]=_16e[inJ];_16e[inJ]=_171;},initTextSizePoll:function(_172){var f=document.createElement("div");with(f.style){top="0px";left="0px";position="absolute";visibility="hidden";}f.innerHTML="TheQuickBrownFoxJumpedOverTheLazyDog";document.body.appendChild(f);var fw=f.offsetWidth;var job=function(){if(f.offsetWidth!=fw){fw=f.offsetWidth;dojox.grid.textSizeChanged();}};window.setInterval(job,_172||200);dojox.grid.initTextSizePoll=dojox.grid.nop;},textSizeChanged:function(){}});dojox.grid.jobs={cancel:function(_176){if(_176){window.clearTimeout(_176);}},jobs:[],job:function(_177,_178,_179){dojox.grid.jobs.cancelJob(_177);var job=function(){delete dojox.grid.jobs.jobs[_177];_179();};dojox.grid.jobs.jobs[_177]=setTimeout(job,_178);},cancelJob:function(_17b){dojox.grid.jobs.cancel(dojox.grid.jobs.jobs[_17b]);}};}if(!dojo._hasResource["dojox.grid._grid.scroller"]){dojo._hasResource["dojox.grid._grid.scroller"]=true;dojo.provide("dojox.grid._grid.scroller");dojo.declare("dojox.grid.scroller.base",null,{constructor:function(){this.pageHeights=[];this.stack=[];},rowCount:0,defaultRowHeight:10,keepRows:100,contentNode:null,scrollboxNode:null,defaultPageHeight:0,keepPages:10,pageCount:0,windowHeight:0,firstVisibleRow:0,lastVisibleRow:0,page:0,pageTop:0,init:function(_17c,_17d,_17e){switch(arguments.length){case 3:this.rowsPerPage=_17e;case 2:this.keepRows=_17d;case 1:this.rowCount=_17c;}this.defaultPageHeight=this.defaultRowHeight*this.rowsPerPage;this.pageCount=Math.ceil(this.rowCount/this.rowsPerPage);this.keepPages=Math.max(Math.ceil(this.keepRows/this.rowsPerPage),2);this.invalidate();if(this.scrollboxNode){this.scrollboxNode.scrollTop=0;this.scroll(0);this.scrollboxNode.onscroll=dojo.hitch(this,"onscroll");}},invalidate:function(){this.invalidateNodes();this.pageHeights=[];this.height=(this.pageCount?(this.pageCount-1)*this.defaultPageHeight+this.calcLastPageHeight():0);this.resize();},updateRowCount:function(_17f){this.invalidateNodes();this.rowCount=_17f;oldPageCount=this.pageCount;this.pageCount=Math.ceil(this.rowCount/this.rowsPerPage);if(this.pageCount<oldPageCount){for(var i=oldPageCount-1;i>=this.pageCount;i--){this.height-=this.getPageHeight(i);delete this.pageHeights[i];}}else{if(this.pageCount>oldPageCount){this.height+=this.defaultPageHeight*(this.pageCount-oldPageCount-1)+this.calcLastPageHeight();}}this.resize();},pageExists:function(_181){},measurePage:function(_182){},positionPage:function(_183,_184){},repositionPages:function(_185){},installPage:function(_186){},preparePage:function(_187,_188,_189){},renderPage:function(_18a){},removePage:function(_18b){},pacify:function(_18c){},pacifying:false,pacifyTicks:200,setPacifying:function(_18d){if(this.pacifying!=_18d){this.pacifying=_18d;this.pacify(this.pacifying);}},startPacify:function(){this.startPacifyTicks=new Date().getTime();},doPacify:function(){var _18e=(new Date().getTime()-this.startPacifyTicks)>this.pacifyTicks;this.setPacifying(true);this.startPacify();return _18e;},endPacify:function(){this.setPacifying(false);},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}dojox.grid.setStyleHeightPx(this.contentNode,this.height);},calcLastPageHeight:function(){if(!this.pageCount){return 0;}var _18f=this.pageCount-1;var _190=((this.rowCount%this.rowsPerPage)||(this.rowsPerPage))*this.defaultRowHeight;this.pageHeights[_18f]=_190;return _190;},updateContentHeight:function(inDh){this.height+=inDh;this.resize();},updatePageHeight:function(_192){if(this.pageExists(_192)){var oh=this.getPageHeight(_192);var h=(this.measurePage(_192))||(oh);this.pageHeights[_192]=h;if((h)&&(oh!=h)){this.updateContentHeight(h-oh);this.repositionPages(_192);}}},rowHeightChanged:function(_195){this.updatePageHeight(Math.floor(_195/this.rowsPerPage));},invalidateNodes:function(){while(this.stack.length){this.destroyPage(this.popPage());}},createPageNode:function(){var p=document.createElement("div");p.style.position="absolute";p.style.left="0";return p;},getPageHeight:function(_197){var ph=this.pageHeights[_197];return (ph!==undefined?ph:this.defaultPageHeight);},pushPage:function(_199){return this.stack.push(_199);},popPage:function(){return this.stack.shift();},findPage:function(_19a){var i=0,h=0;for(var ph=0;i<this.pageCount;i++,h+=ph){ph=this.getPageHeight(i);if(h+ph>=_19a){break;}}this.page=i;this.pageTop=h;},buildPage:function(_19e,_19f,_1a0){this.preparePage(_19e,_19f);this.positionPage(_19e,_1a0);this.installPage(_19e);this.renderPage(_19e);this.pushPage(_19e);},needPage:function(_1a1,_1a2){var h=this.getPageHeight(_1a1),oh=h;if(!this.pageExists(_1a1)){this.buildPage(_1a1,(this.keepPages)&&(this.stack.length>=this.keepPages),_1a2);h=this.measurePage(_1a1)||h;this.pageHeights[_1a1]=h;if(h&&(oh!=h)){this.updateContentHeight(h-oh);}}else{this.positionPage(_1a1,_1a2);}return h;},onscroll:function(){this.scroll(this.scrollboxNode.scrollTop);},scroll:function(_1a5){this.startPacify();this.findPage(_1a5);var h=this.height;var b=this.getScrollBottom(_1a5);for(var p=this.page,y=this.pageTop;(p<this.pageCount)&&((b<0)||(y<b));p++){y+=this.needPage(p,y);}this.firstVisibleRow=this.getFirstVisibleRow(this.page,this.pageTop,_1a5);this.lastVisibleRow=this.getLastVisibleRow(p-1,y,b);if(h!=this.height){this.repositionPages(p-1);}this.endPacify();},getScrollBottom:function(_1aa){return (this.windowHeight>=0?_1aa+this.windowHeight:-1);},processNodeEvent:function(e,_1ac){var t=e.target;while(t&&(t!=_1ac)&&t.parentNode&&(t.parentNode.parentNode!=_1ac)){t=t.parentNode;}if(!t||!t.parentNode||(t.parentNode.parentNode!=_1ac)){return false;}var page=t.parentNode;e.topRowIndex=page.pageIndex*this.rowsPerPage;e.rowIndex=e.topRowIndex+dojox.grid.indexInParent(t);e.rowTarget=t;return true;},processEvent:function(e){return this.processNodeEvent(e,this.contentNode);},dummy:0});dojo.declare("dojox.grid.scroller",dojox.grid.scroller.base,{constructor:function(){this.pageNodes=[];},renderRow:function(_1b0,_1b1){},removeRow:function(_1b2){},getDefaultNodes:function(){return this.pageNodes;},getDefaultPageNode:function(_1b3){return this.getDefaultNodes()[_1b3];},positionPageNode:function(_1b4,_1b5){_1b4.style.top=_1b5+"px";},getPageNodePosition:function(_1b6){return _1b6.offsetTop;},repositionPageNodes:function(_1b7,_1b8){var last=0;for(var i=0;i<this.stack.length;i++){last=Math.max(this.stack[i],last);}var n=_1b8[_1b7];var y=(n?this.getPageNodePosition(n)+this.getPageHeight(_1b7):0);for(var p=_1b7+1;p<=last;p++){n=_1b8[p];if(n){if(this.getPageNodePosition(n)==y){return;}this.positionPage(p,y);}y+=this.getPageHeight(p);}},invalidatePageNode:function(_1be,_1bf){var p=_1bf[_1be];if(p){delete _1bf[_1be];this.removePage(_1be,p);dojox.grid.cleanNode(p);p.innerHTML="";}return p;},preparePageNode:function(_1c1,_1c2,_1c3){var p=(_1c2===null?this.createPageNode():this.invalidatePageNode(_1c2,_1c3));p.pageIndex=_1c1;p.id="page-"+_1c1;_1c3[_1c1]=p;},pageExists:function(_1c5){return Boolean(this.getDefaultPageNode(_1c5));},measurePage:function(_1c6){return this.getDefaultPageNode(_1c6).offsetHeight;},positionPage:function(_1c7,_1c8){this.positionPageNode(this.getDefaultPageNode(_1c7),_1c8);},repositionPages:function(_1c9){this.repositionPageNodes(_1c9,this.getDefaultNodes());},preparePage:function(_1ca,_1cb){this.preparePageNode(_1ca,(_1cb?this.popPage():null),this.getDefaultNodes());},installPage:function(_1cc){this.contentNode.appendChild(this.getDefaultPageNode(_1cc));},destroyPage:function(_1cd){var p=this.invalidatePageNode(_1cd,this.getDefaultNodes());dojox.grid.removeNode(p);},renderPage:function(_1cf){var node=this.pageNodes[_1cf];for(var i=0,j=_1cf*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,node);}},removePage:function(_1d3){for(var i=0,j=_1d3*this.rowsPerPage;i<this.rowsPerPage;i++,j++){this.removeRow(j);}},getPageRow:function(_1d6){return _1d6*this.rowsPerPage;},getLastPageRow:function(_1d7){return Math.min(this.rowCount,this.getPageRow(_1d7+1))-1;},getFirstVisibleRowNodes:function(_1d8,_1d9,_1da,_1db){var row=this.getPageRow(_1d8);var rows=dojox.grid.divkids(_1db[_1d8]);for(var i=0,l=rows.length;i<l&&_1d9<_1da;i++,row++){_1d9+=rows[i].offsetHeight;}return (row?row-1:row);},getFirstVisibleRow:function(_1e0,_1e1,_1e2){if(!this.pageExists(_1e0)){return 0;}return this.getFirstVisibleRowNodes(_1e0,_1e1,_1e2,this.getDefaultNodes());},getLastVisibleRowNodes:function(_1e3,_1e4,_1e5,_1e6){var row=this.getLastPageRow(_1e3);var rows=dojox.grid.divkids(_1e6[_1e3]);for(var i=rows.length-1;i>=0&&_1e4>_1e5;i--,row--){_1e4-=rows[i].offsetHeight;}return row+1;},getLastVisibleRow:function(_1ea,_1eb,_1ec){if(!this.pageExists(_1ea)){return 0;}return this.getLastVisibleRowNodes(_1ea,_1eb,_1ec,this.getDefaultNodes());},findTopRowForNodes:function(_1ed,_1ee){var rows=dojox.grid.divkids(_1ee[this.page]);for(var i=0,l=rows.length,t=this.pageTop,h;i<l;i++){h=rows[i].offsetHeight;t+=h;if(t>=_1ed){this.offset=h-(t-_1ed);return i+this.page*this.rowsPerPage;}}return -1;},findScrollTopForNodes:function(_1f4,_1f5){var _1f6=Math.floor(_1f4/this.rowsPerPage);var t=0;for(var i=0;i<_1f6;i++){t+=this.getPageHeight(i);}this.pageTop=t;this.needPage(_1f6,this.pageTop);var rows=dojox.grid.divkids(_1f5[_1f6]);var r=_1f4-this.rowsPerPage*_1f6;for(var i=0,l=rows.length;i<l&&i<r;i++){t+=rows[i].offsetHeight;}return t;},findTopRow:function(_1fc){return this.findTopRowForNodes(_1fc,this.getDefaultNodes());},findScrollTop:function(_1fd){return this.findScrollTopForNodes(_1fd,this.getDefaultNodes());},dummy:0});dojo.declare("dojox.grid.scroller.columns",dojox.grid.scroller,{constructor:function(_1fe){this.setContentNodes(_1fe);},setContentNodes:function(_1ff){this.contentNodes=_1ff;this.colCount=(this.contentNodes?this.contentNodes.length:0);this.pageNodes=[];for(var i=0;i<this.colCount;i++){this.pageNodes[i]=[];}},getDefaultNodes:function(){return this.pageNodes[0]||[];},scroll:function(_201){if(this.colCount){dojox.grid.scroller.prototype.scroll.call(this,_201);}},resize:function(){if(this.scrollboxNode){this.windowHeight=this.scrollboxNode.clientHeight;}for(var i=0;i<this.colCount;i++){dojox.grid.setStyleHeightPx(this.contentNodes[i],this.height);}},positionPage:function(_203,_204){for(var i=0;i<this.colCount;i++){this.positionPageNode(this.pageNodes[i][_203],_204);}},preparePage:function(_206,_207){var p=(_207?this.popPage():null);for(var i=0;i<this.colCount;i++){this.preparePageNode(_206,p,this.pageNodes[i]);}},installPage:function(_20a){for(var i=0;i<this.colCount;i++){this.contentNodes[i].appendChild(this.pageNodes[i][_20a]);}},destroyPage:function(_20c){for(var i=0;i<this.colCount;i++){dojox.grid.removeNode(this.invalidatePageNode(_20c,this.pageNodes[i]));}},renderPage:function(_20e){var _20f=[];for(var i=0;i<this.colCount;i++){_20f[i]=this.pageNodes[i][_20e];}for(var i=0,j=_20e*this.rowsPerPage;(i<this.rowsPerPage)&&(j<this.rowCount);i++,j++){this.renderRow(j,_20f);}}});}if(!dojo._hasResource["dojox.grid._grid.drag"]){dojo._hasResource["dojox.grid._grid.drag"]=true;dojo.provide("dojox.grid._grid.drag");(function(){var _212=dojox.grid.drag={};_212.dragging=false;_212.hysteresis=2;_212.capture=function(_213){if(_213.setCapture){_213.setCapture();}else{document.addEventListener("mousemove",_213.onmousemove,true);document.addEventListener("mouseup",_213.onmouseup,true);document.addEventListener("click",_213.onclick,true);}};_212.release=function(_214){if(_214.releaseCapture){_214.releaseCapture();}else{document.removeEventListener("click",_214.onclick,true);document.removeEventListener("mouseup",_214.onmouseup,true);document.removeEventListener("mousemove",_214.onmousemove,true);}};_212.start=function(_215,_216,_217,_218,_219){if(!_215||_212.dragging){console.debug("failed to start drag: bad input node or already dragging");return;}_212.dragging=true;_212.elt=_215;_212.events={drag:_216||dojox.grid.nop,end:_217||dojox.grid.nop,start:_219||dojox.grid.nop,oldmove:_215.onmousemove,oldup:_215.onmouseup,oldclick:_215.onclick};_212.positionX=(_218&&("screenX" in _218)?_218.screenX:false);_212.positionY=(_218&&("screenY" in _218)?_218.screenY:false);_212.started=(_212.position===false);_215.onmousemove=_212.mousemove;_215.onmouseup=_212.mouseup;_215.onclick=_212.click;_212.capture(_212.elt);};_212.end=function(){_212.release(_212.elt);_212.elt.onmousemove=_212.events.oldmove;_212.elt.onmouseup=_212.events.oldup;_212.elt.onclick=_212.events.oldclick;_212.elt=null;try{if(_212.started){_212.events.end();}}finally{_212.dragging=false;}};_212.calcDelta=function(_21a){_21a.deltaX=_21a.screenX-_212.positionX;_21a.deltaY=_21a.screenY-_212.positionY;};_212.hasMoved=function(_21b){return Math.abs(_21b.deltaX)+Math.abs(_21b.deltaY)>_212.hysteresis;};_212.mousemove=function(_21c){_21c=dojo.fixEvent(_21c);dojo.stopEvent(_21c);_212.calcDelta(_21c);if((!_212.started)&&(_212.hasMoved(_21c))){_212.events.start(_21c);_212.started=true;}if(_212.started){_212.events.drag(_21c);}};_212.mouseup=function(_21d){dojo.stopEvent(dojo.fixEvent(_21d));_212.end();};_212.click=function(_21e){dojo.stopEvent(dojo.fixEvent(_21e));};})();}if(!dojo._hasResource["dojox.grid._grid.builder"]){dojo._hasResource["dojox.grid._grid.builder"]=true;dojo.provide("dojox.grid._grid.builder");dojo.declare("dojox.grid.Builder",null,{constructor:function(_21f){this.view=_21f;this.grid=_21f.grid;},view:null,_table:"<table class=\"dojoxGrid-row-table\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"wairole:presentation\">",generateCellMarkup:function(_220,_221,_222,_223){var _224=[],html;if(_223){html=["<th tabIndex=\"-1\" role=\"wairole:columnheader\""];}else{html=["<td tabIndex=\"-1\" role=\"wairole:gridcell\""];}_220.colSpan&&html.push(" colspan=\"",_220.colSpan,"\"");_220.rowSpan&&html.push(" rowspan=\"",_220.rowSpan,"\"");html.push(" class=\"dojoxGrid-cell ");_220.classes&&html.push(_220.classes," ");_222&&html.push(_222," ");_224.push(html.join(""));_224.push("");html=["\" idx=\"",_220.index,"\" style=\""];html.push(_220.styles,_221||"");_220.unitWidth&&html.push("width:",_220.unitWidth,";");_224.push(html.join(""));_224.push("");html=["\""];_220.attrs&&html.push(" ",_220.attrs);html.push(">");_224.push(html.join(""));_224.push("");_224.push("</td>");return _224;},isCellNode:function(_226){return Boolean(_226&&_226.getAttribute&&_226.getAttribute("idx"));},getCellNodeIndex:function(_227){return _227?Number(_227.getAttribute("idx")):-1;},getCellNode:function(_228,_229){for(var i=0,row;row=dojox.grid.getTr(_228.firstChild,i);i++){for(var j=0,cell;cell=row.cells[j];j++){if(this.getCellNodeIndex(cell)==_229){return cell;}}}},findCellTarget:function(_22e,_22f){var n=_22e;while(n&&!this.isCellNode(n)&&(n!=_22f)){n=n.parentNode;}return n!=_22f?n:null;},baseDecorateEvent:function(e){e.dispatch="do"+e.type;e.grid=this.grid;e.sourceView=this.view;e.cellNode=this.findCellTarget(e.target,e.rowNode);e.cellIndex=this.getCellNodeIndex(e.cellNode);e.cell=(e.cellIndex>=0?this.grid.getCell(e.cellIndex):null);},findTarget:function(_232,_233){var n=_232;while(n&&!(_233 in n)&&(n!=this.domNode)){n=n.parentNode;}return (n!=this.domNode)?n:null;},findRowTarget:function(_235){return this.findTarget(_235,dojox.grid.rowIndexTag);},isIntraNodeEvent:function(e){try{return (e.cellNode&&e.relatedTarget&&dojo.isDescendant(e.relatedTarget,e.cellNode));}catch(x){return false;}},isIntraRowEvent:function(e){try{var row=e.relatedTarget&&this.findRowTarget(e.relatedTarget);return !row&&(e.rowIndex==-1)||row&&(e.rowIndex==row.gridRowIndex);}catch(x){return false;}},dispatchEvent:function(e){if(e.dispatch in this){return this[e.dispatch](e);}},domouseover:function(e){if(e.cellNode&&(e.cellNode!=this.lastOverCellNode)){this.lastOverCellNode=e.cellNode;this.grid.onMouseOver(e);}this.grid.onMouseOverRow(e);},domouseout:function(e){if(e.cellNode&&(e.cellNode==this.lastOverCellNode)&&!this.isIntraNodeEvent(e,this.lastOverCellNode)){this.lastOverCellNode=null;this.grid.onMouseOut(e);if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}}});dojo.declare("dojox.grid.contentBuilder",dojox.grid.Builder,{update:function(){this.prepareHtml();},prepareHtml:function(){var _23c=this.grid.get,rows=this.view.structure.rows;for(var j=0,row;(row=rows[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.get=cell.get||(cell.value==undefined)&&_23c;cell.markup=this.generateCellMarkup(cell,cell.cellStyles,cell.cellClasses,false);}}},generateHtml:function(_242,_243){var html=[this._table],v=this.view,obr=v.onBeforeRow,rows=v.structure.rows;obr&&obr(_243,rows);for(var j=0,row;(row=rows[j]);j++){if(row.hidden||row.header){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGrid-invisible\">");for(var i=0,cell,m,cc,cs;(cell=row[i]);i++){m=cell.markup,cc=cell.customClasses=[],cs=cell.customStyles=[];m[5]=cell.format(_242);m[1]=cc.join(" ");m[3]=cs.join(";");html.push.apply(html,m);}html.push("</tr>");}html.push("</table>");return html.join("");},decorateEvent:function(e){e.rowNode=this.findRowTarget(e.target);if(!e.rowNode){return false;}e.rowIndex=e.rowNode[dojox.grid.rowIndexTag];this.baseDecorateEvent(e);e.cell=this.grid.getCell(e.cellIndex);return true;}});dojo.declare("dojox.grid.headerBuilder",dojox.grid.Builder,{bogusClickTime:0,overResizeWidth:4,minColWidth:1,_table:"<table class=\"dojoxGrid-row-table\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"wairole:presentation\"",update:function(){this.tableMap=new dojox.grid.tableMap(this.view.structure.rows);},generateHtml:function(_250,_251){var html=[this._table],rows=this.view.structure.rows;if(this.view.viewWidth){html.push([" style=\"width:",this.view.viewWidth,";\""].join(""));}html.push(">");dojox.grid.fire(this.view,"onBeforeRow",[-1,rows]);for(var j=0,row;(row=rows[j]);j++){if(row.hidden){continue;}html.push(!row.invisible?"<tr>":"<tr class=\"dojoxGrid-invisible\">");for(var i=0,cell,_258;(cell=row[i]);i++){cell.customClasses=[];cell.customStyles=[];_258=this.generateCellMarkup(cell,cell.headerStyles,cell.headerClasses,true);_258[5]=(_251!=undefined?_251:_250(cell));_258[3]=cell.customStyles.join(";");_258[1]=cell.customClasses.join(" ");html.push(_258.join(""));}html.push("</tr>");}html.push("</table>");return html.join("");},getCellX:function(e){var x=e.layerX;if(dojo.isMoz){var n=dojox.grid.ascendDom(e.target,dojox.grid.makeNotTagName("th"));x-=(n&&n.offsetLeft)||0;}var n=dojox.grid.ascendDom(e.target,function(){if(!n||n==e.cellNode){return false;}x+=(n.offsetLeft<0?0:n.offsetLeft);return true;});return x;},decorateEvent:function(e){this.baseDecorateEvent(e);e.rowIndex=-1;e.cellX=this.getCellX(e);return true;},prepareLeftResize:function(e){var i=dojox.grid.getTdIndex(e.cellNode);e.cellNode=(i?e.cellNode.parentNode.cells[i-1]:null);e.cellIndex=(e.cellNode?this.getCellNodeIndex(e.cellNode):-1);return Boolean(e.cellNode);},canResize:function(e){if(!e.cellNode||e.cellNode.colSpan>1){return false;}var cell=this.grid.getCell(e.cellIndex);return !cell.noresize&&!cell.isFlex();},overLeftResizeArea:function(e){return (e.cellIndex>0)&&(e.cellX<this.overResizeWidth)&&this.prepareLeftResize(e);},overRightResizeArea:function(e){return e.cellNode&&(e.cellX>=e.cellNode.offsetWidth-this.overResizeWidth);},domousemove:function(e){var c=(this.overRightResizeArea(e)?"e-resize":(this.overLeftResizeArea(e)?"w-resize":""));if(c&&!this.canResize(e)){c="not-allowed";}e.sourceView.headerNode.style.cursor=c||"";},domousedown:function(e){if(!dojox.grid.drag.dragging){if((this.overRightResizeArea(e)||this.overLeftResizeArea(e))&&this.canResize(e)){this.beginColumnResize(e);}}},doclick:function(e){if(new Date().getTime()<this.bogusClickTime){dojo.stopEvent(e);return true;}},beginColumnResize:function(e){dojo.stopEvent(e);var _268=[],_269=this.tableMap.findOverlappingNodes(e.cellNode);for(var i=0,cell;(cell=_269[i]);i++){_268.push({node:cell,index:this.getCellNodeIndex(cell),width:cell.offsetWidth});}var drag={view:e.sourceView,node:e.cellNode,index:e.cellIndex,w:e.cellNode.clientWidth,spanners:_268};dojox.grid.drag.start(e.cellNode,dojo.hitch(this,"doResizeColumn",drag),dojo.hitch(this,"endResizeColumn",drag),e);},doResizeColumn:function(_26d,_26e){var w=_26d.w+_26e.deltaX;if(w>=this.minColWidth){for(var i=0,s,sw;(s=_26d.spanners[i]);i++){sw=s.width+_26e.deltaX;s.node.style.width=sw+"px";_26d.view.setColWidth(s.index,sw);}_26d.node.style.width=w+"px";_26d.view.setColWidth(_26d.index,w);}if(_26d.view.flexCells&&!_26d.view.testFlexCells()){var t=dojox.grid.findTable(_26d.node);t&&(t.style.width="");}},endResizeColumn:function(_274){this.bogusClickTime=new Date().getTime()+30;setTimeout(dojo.hitch(_274.view,"update"),50);}});dojo.declare("dojox.grid.tableMap",null,{constructor:function(_275){this.mapRows(_275);},map:null,mapRows:function(_276){var _277=_276.length;if(!_277){return;}this.map=[];for(var j=0,row;(row=_276[j]);j++){this.map[j]=[];}for(var j=0,row;(row=_276[j]);j++){for(var i=0,x=0,cell,_27d,_27e;(cell=row[i]);i++){while(this.map[j][x]){x++;}this.map[j][x]={c:i,r:j};_27e=cell.rowSpan||1;_27d=cell.colSpan||1;for(var y=0;y<_27e;y++){for(var s=0;s<_27d;s++){this.map[j+y][x+s]=this.map[j][x];}}x+=_27d;}}},dumpMap:function(){for(var j=0,row,h="";(row=this.map[j]);j++,h=""){for(var i=0,cell;(cell=row[i]);i++){h+=cell.r+","+cell.c+"   ";}console.log(h);}},getMapCoords:function(_286,_287){for(var j=0,row;(row=this.map[j]);j++){for(var i=0,cell;(cell=row[i]);i++){if(cell.c==_287&&cell.r==_286){return {j:j,i:i};}}}return {j:-1,i:-1};},getNode:function(_28c,_28d,_28e){var row=_28c&&_28c.rows[_28d];return row&&row.cells[_28e];},_findOverlappingNodes:function(_290,_291,_292){var _293=[];var m=this.getMapCoords(_291,_292);var row=this.map[m.j];for(var j=0,row;(row=this.map[j]);j++){if(j==m.j){continue;}with(row[m.i]){var n=this.getNode(_290,r,c);if(n){_293.push(n);}}}return _293;},findOverlappingNodes:function(_298){return this._findOverlappingNodes(dojox.grid.findTable(_298),dojox.grid.getTrIndex(_298.parentNode),dojox.grid.getTdIndex(_298));}});dojox.grid.rowIndexTag="gridRowIndex";}if(!dojo._hasResource["dojox.grid._grid.view"]){dojo._hasResource["dojox.grid._grid.view"]=true;dojo.provide("dojox.grid._grid.view");dojo.declare("dojox.GridView",[dijit._Widget,dijit._Templated],{defaultWidth:"18em",viewWidth:"",templateString:"<div class=\"dojoxGrid-view\"><div class=\"dojoxGrid-header\" dojoAttachPoint=\"headerNode\"><div style=\"width: 9000em\"><div dojoAttachPoint=\"headerContentNode\"></div></div></div><input type=\"checkbox\" class=\"dojoxGrid-hidden-focus\" dojoAttachPoint=\"hiddenFocusNode\" /><input type=\"checkbox\" class=\"dojoxGrid-hidden-focus\" /><div class=\"dojoxGrid-scrollbox\" dojoAttachPoint=\"scrollboxNode\"><div class=\"dojoxGrid-content\" dojoAttachPoint=\"contentNode\" hidefocus=\"hidefocus\"></div></div></div>",themeable:false,classTag:"dojoxGrid",marginBottom:0,rowPad:2,postMixInProperties:function(){this.rowNodes=[];},postCreate:function(){dojo.connect(this.scrollboxNode,"onscroll",dojo.hitch(this,"doscroll"));dojox.grid.funnelEvents(this.contentNode,this,"doContentEvent",["mouseover","mouseout","click","dblclick","contextmenu"]);dojox.grid.funnelEvents(this.headerNode,this,"doHeaderEvent",["dblclick","mouseover","mouseout","mousemove","mousedown","click","contextmenu"]);this.content=new dojox.grid.contentBuilder(this);this.header=new dojox.grid.headerBuilder(this);},destroy:function(){dojox.grid.removeNode(this.headerNode);this.inherited("destroy",arguments);},focus:function(){if(dojo.isSafari||dojo.isOpera){this.hiddenFocusNode.focus();}else{this.scrollboxNode.focus();}},setStructure:function(_299){var vs=this.structure=_299;if(vs.width&&dojo.isNumber(vs.width)){this.viewWidth=vs.width+"em";}else{this.viewWidth=vs.width||this.viewWidth;}this.onBeforeRow=vs.onBeforeRow;this.noscroll=vs.noscroll;if(this.noscroll){this.scrollboxNode.style.overflow="hidden";}this.testFlexCells();this.updateStructure();},testFlexCells:function(){this.flexCells=false;for(var j=0,row;(row=this.structure.rows[j]);j++){for(var i=0,cell;(cell=row[i]);i++){cell.view=this;this.flexCells=this.flexCells||cell.isFlex();}}return this.flexCells;},updateStructure:function(){this.header.update();this.content.update();},getScrollbarWidth:function(){return (this.noscroll?0:dojox.grid.getScrollbarWidth());},getColumnsWidth:function(){return this.headerContentNode.firstChild.offsetWidth;},getWidth:function(){return this.viewWidth||(this.getColumnsWidth()+this.getScrollbarWidth())+"px";},getContentWidth:function(){return Math.max(0,dojo._getContentBox(this.domNode).w-this.getScrollbarWidth())+"px";},render:function(){this.scrollboxNode.style.height="";this.renderHeader();},renderHeader:function(){this.headerContentNode.innerHTML=this.header.generateHtml(this._getHeaderContent);},_getHeaderContent:function(_29f){var n=_29f.name||_29f.grid.getCellName(_29f);if(_29f.index!=_29f.grid.getSortIndex()){return n;}return ["<div class=\"",_29f.grid.sortInfo>0?"dojoxGrid-sort-down":"dojoxGrid-sort-up","\">",n,"</div>"].join("");},resize:function(){this.resizeHeight();this.resizeWidth();},hasScrollbar:function(){return (this.scrollboxNode.clientHeight!=this.scrollboxNode.offsetHeight);},resizeHeight:function(){if(!this.grid.autoHeight){var h=this.domNode.clientHeight;if(!this.hasScrollbar()){h-=dojox.grid.getScrollbarWidth();}dojox.grid.setStyleHeightPx(this.scrollboxNode,h);}},resizeWidth:function(){if(this.flexCells){this.contentWidth=this.getContentWidth();this.headerContentNode.firstChild.style.width=this.contentWidth;}var w=this.scrollboxNode.offsetWidth-this.getScrollbarWidth();w=Math.max(w,this.getColumnsWidth())+"px";with(this.contentNode){style.width="";offsetWidth;style.width=w;}},setSize:function(w,h){with(this.domNode.style){if(w){width=w;}height=(h>=0?h+"px":"");}with(this.headerNode.style){if(w){width=w;}}},renderRow:function(_2a5,_2a6){var _2a7=this.createRowNode(_2a5);this.buildRow(_2a5,_2a7,_2a6);this.grid.edit.restore(this,_2a5);return _2a7;},createRowNode:function(_2a8){var node=document.createElement("div");node.className=this.classTag+"-row";node[dojox.grid.rowIndexTag]=_2a8;this.rowNodes[_2a8]=node;return node;},buildRow:function(_2aa,_2ab){this.buildRowContent(_2aa,_2ab);this.styleRow(_2aa,_2ab);},buildRowContent:function(_2ac,_2ad){_2ad.innerHTML=this.content.generateHtml(_2ac,_2ac);if(this.flexCells){_2ad.firstChild.style.width=this.contentWidth;}},rowRemoved:function(_2ae){this.grid.edit.save(this,_2ae);delete this.rowNodes[_2ae];},getRowNode:function(_2af){return this.rowNodes[_2af];},getCellNode:function(_2b0,_2b1){var row=this.getRowNode(_2b0);if(row){return this.content.getCellNode(row,_2b1);}},styleRow:function(_2b3,_2b4){_2b4._style=dojox.grid.getStyleText(_2b4);this.styleRowNode(_2b3,_2b4);},styleRowNode:function(_2b5,_2b6){if(_2b6){this.doStyleRowNode(_2b5,_2b6);}},doStyleRowNode:function(_2b7,_2b8){this.grid.styleRowNode(_2b7,_2b8);},updateRow:function(_2b9,_2ba,_2bb){var _2bc=this.getRowNode(_2b9);if(_2bc){_2bc.style.height="";this.buildRow(_2b9,_2bc);}return _2bc;},updateRowStyles:function(_2bd){this.styleRowNode(_2bd,this.getRowNode(_2bd));},lastTop:0,doscroll:function(_2be){this.headerNode.scrollLeft=this.scrollboxNode.scrollLeft;var top=this.scrollboxNode.scrollTop;if(top!=this.lastTop){this.grid.scrollTo(top);}},setScrollTop:function(_2c0){this.lastTop=_2c0;this.scrollboxNode.scrollTop=_2c0;return this.scrollboxNode.scrollTop;},doContentEvent:function(e){if(this.content.decorateEvent(e)){this.grid.onContentEvent(e);}},doHeaderEvent:function(e){if(this.header.decorateEvent(e)){this.grid.onHeaderEvent(e);}},dispatchContentEvent:function(e){return this.content.dispatchEvent(e);},dispatchHeaderEvent:function(e){return this.header.dispatchEvent(e);},setColWidth:function(_2c5,_2c6){this.grid.setCellWidth(_2c5,_2c6+"px");},update:function(){var left=this.scrollboxNode.scrollLeft;this.content.update();this.grid.update();this.scrollboxNode.scrollLeft=left;}});}if(!dojo._hasResource["dojox.grid._grid.views"]){dojo._hasResource["dojox.grid._grid.views"]=true;dojo.provide("dojox.grid._grid.views");dojo.declare("dojox.grid.views",null,{constructor:function(_2c8){this.grid=_2c8;},defaultWidth:200,views:[],resize:function(){this.onEach("resize");},render:function(){this.onEach("render");this.normalizeHeaderNodeHeight();},addView:function(_2c9){_2c9.idx=this.views.length;this.views.push(_2c9);},destroyViews:function(){for(var i=0,v;v=this.views[i];i++){v.destroy();}this.views=[];},getContentNodes:function(){var _2cc=[];for(var i=0,v;v=this.views[i];i++){_2cc.push(v.contentNode);}return _2cc;},forEach:function(_2cf){for(var i=0,v;v=this.views[i];i++){_2cf(v,i);}},onEach:function(_2d2,_2d3){_2d3=_2d3||[];for(var i=0,v;v=this.views[i];i++){if(_2d2 in v){v[_2d2].apply(v,_2d3);}}},normalizeHeaderNodeHeight:function(){var _2d6=[];for(var i=0,v;(v=this.views[i]);i++){if(v.headerContentNode.firstChild){_2d6.push(v.headerContentNode);}}this.normalizeRowNodeHeights(_2d6);},normalizeRowNodeHeights:function(_2d9){var h=0;for(var i=0,n,o;(n=_2d9[i]);i++){h=Math.max(h,(n.firstChild.clientHeight)||(n.firstChild.offsetHeight));}h=(h>=0?h:0);var hpx=h+"px";for(var i=0,n;(n=_2d9[i]);i++){if(n.firstChild.clientHeight!=h){n.firstChild.style.height=hpx;}}if(_2d9&&_2d9[0]){_2d9[0].parentNode.offsetHeight;}},renormalizeRow:function(_2df){var _2e0=[];for(var i=0,v,n;(v=this.views[i])&&(n=v.getRowNode(_2df));i++){n.firstChild.style.height="";_2e0.push(n);}this.normalizeRowNodeHeights(_2e0);},getViewWidth:function(_2e4){return this.views[_2e4].getWidth()||this.defaultWidth;},measureHeader:function(){this.forEach(function(_2e5){_2e5.headerContentNode.style.height="";});var h=0;this.forEach(function(_2e7){h=Math.max(_2e7.headerNode.offsetHeight,h);});return h;},measureContent:function(){var h=0;this.forEach(function(_2e9){h=Math.max(_2e9.domNode.offsetHeight,h);});return h;},findClient:function(_2ea){var c=this.grid.elasticView||-1;if(c<0){for(var i=1,v;(v=this.views[i]);i++){if(v.viewWidth){for(i=1;(v=this.views[i]);i++){if(!v.viewWidth){c=i;break;}}break;}}}if(c<0){c=Math.floor(this.views.length/2);}return c;},_arrange:function(l,t,w,h){var i,v,vw,len=this.views.length;var c=(w<=0?len:this.findClient());var _2f7=function(v,l,t){with(v.domNode.style){left=l+"px";top=t+"px";}with(v.headerNode.style){left=l+"px";top=0;}};for(i=0;(v=this.views[i])&&(i<c);i++){vw=this.getViewWidth(i);v.setSize(vw,h);_2f7(v,l,t);vw=v.domNode.offsetWidth;l+=vw;}i++;var r=w;for(var j=len-1;(v=this.views[j])&&(i<=j);j--){vw=this.getViewWidth(j);v.setSize(vw,h);vw=v.domNode.offsetWidth;r-=vw;_2f7(v,r,t);}if(c<len){v=this.views[c];vw=Math.max(1,r-l);v.setSize(vw+"px",h);_2f7(v,l,t);}return l;},arrange:function(l,t,w,h){var w=this._arrange(l,t,w,h);this.resize();return w;},renderRow:function(_301,_302){var _303=[];for(var i=0,v,n,_307;(v=this.views[i])&&(n=_302[i]);i++){_307=v.renderRow(_301);n.appendChild(_307);_303.push(_307);}this.normalizeRowNodeHeights(_303);},rowRemoved:function(_308){this.onEach("rowRemoved",[_308]);},updateRow:function(_309,_30a){for(var i=0,v;v=this.views[i];i++){v.updateRow(_309,_30a);}this.renormalizeRow(_309);},updateRowStyles:function(_30d){this.onEach("updateRowStyles",[_30d]);},setScrollTop:function(_30e){var top=_30e;for(var i=0,v;v=this.views[i];i++){top=v.setScrollTop(_30e);}return top;},getFirstScrollingView:function(){for(var i=0,v;(v=this.views[i]);i++){if(v.hasScrollbar()){return v;}}}});}if(!dojo._hasResource["dojox.grid._grid.cell"]){dojo._hasResource["dojox.grid._grid.cell"]=true;dojo.provide("dojox.grid._grid.cell");dojo.declare("dojox.grid.cell",null,{styles:"",constructor:function(_314){dojo.mixin(this,_314);if(this.editor){this.editor=new this.editor(this);}},format:function(_315){var f,i=this.grid.edit.info,d=this.get?this.get(_315):this.value;if(this.editor&&(this.editor.alwaysOn||(i.rowIndex==_315&&i.cell==this))){return this.editor.format(d,_315);}else{return (f=this.formatter)?f.call(this,d,_315):d;}},getNode:function(_319){return this.view.getCellNode(_319,this.index);},isFlex:function(){var uw=this.unitWidth;return uw&&(uw=="auto"||uw.slice(-1)=="%");},applyEdit:function(_31b,_31c){this.grid.edit.applyCellEdit(_31b,this,_31c);},cancelEdit:function(_31d){this.grid.doCancelEdit(_31d);},_onEditBlur:function(_31e){if(this.grid.edit.isEditCell(_31e,this.index)){this.grid.edit.apply();}},registerOnBlur:function(_31f,_320){if(this.commitOnBlur){dojo.connect(_31f,"onblur",function(e){setTimeout(dojo.hitch(this,"_onEditBlur",_320),250);});}}});}if(!dojo._hasResource["dojox.grid._grid.layout"]){dojo._hasResource["dojox.grid._grid.layout"]=true;dojo.provide("dojox.grid._grid.layout");dojo.declare("dojox.grid.layout",null,{constructor:function(_322){this.grid=_322;},cells:null,structure:null,defaultWidth:"6em",setStructure:function(_323){this.fieldIndex=0;this.cells=[];var s=this.structure=[];for(var i=0,_326,rows;(_326=_323[i]);i++){s.push(this.addViewDef(_326));}this.cellCount=this.cells.length;},addViewDef:function(_328){this._defaultCellProps=_328.defaultCell||{};return dojo.mixin({},_328,{rows:this.addRowsDef(_328.rows||_328.cells)});},addRowsDef:function(_329){var _32a=[];for(var i=0,row;_329&&(row=_329[i]);i++){_32a.push(this.addRowDef(i,row));}return _32a;},addRowDef:function(_32d,_32e){var _32f=[];for(var i=0,def,cell;(def=_32e[i]);i++){cell=this.addCellDef(_32d,i,def);_32f.push(cell);this.cells.push(cell);}return _32f;},addCellDef:function(_333,_334,_335){var w=0;if(_335.colSpan>1){w=0;}else{if(!isNaN(_335.width)){w=_335.width+"em";}else{w=_335.width||this.defaultWidth;}}var _337=_335.field!=undefined?_335.field:(_335.get?-1:this.fieldIndex);if((_335.field!=undefined)||!_335.get){this.fieldIndex=(_335.field>-1?_335.field:this.fieldIndex)+1;}return new dojox.grid.cell(dojo.mixin({},this._defaultCellProps,_335,{grid:this.grid,subrow:_333,layoutIndex:_334,index:this.cells.length,fieldIndex:_337,unitWidth:w}));}});}if(!dojo._hasResource["dojox.grid._grid.rows"]){dojo._hasResource["dojox.grid._grid.rows"]=true;dojo.provide("dojox.grid._grid.rows");dojo.declare("dojox.grid.rows",null,{constructor:function(_338){this.grid=_338;},linesToEms:2,defaultRowHeight:1,overRow:-2,getHeight:function(_339){return "";},getDefaultHeightPx:function(){return 32;},prepareStylingRow:function(_33a,_33b){return {index:_33a,node:_33b,odd:Boolean(_33a&1),selected:this.grid.selection.isSelected(_33a),over:this.isOver(_33a),customStyles:"",customClasses:"dojoxGrid-row"};},styleRowNode:function(_33c,_33d){var row=this.prepareStylingRow(_33c,_33d);this.grid.onStyleRow(row);this.applyStyles(row);},applyStyles:function(_33f){with(_33f){node.className=customClasses;var h=node.style.height;dojox.grid.setStyleText(node,customStyles+";"+(node._style||""));node.style.height=h;}},updateStyles:function(_341){this.grid.updateRowStyles(_341);},setOverRow:function(_342){var last=this.overRow;this.overRow=_342;if((last!=this.overRow)&&(last>=0)){this.updateStyles(last);}this.updateStyles(this.overRow);},isOver:function(_344){return (this.overRow==_344);}});}if(!dojo._hasResource["dojox.grid._grid.focus"]){dojo._hasResource["dojox.grid._grid.focus"]=true;dojo.provide("dojox.grid._grid.focus");dojo.declare("dojox.grid.focus",null,{constructor:function(_345){this.grid=_345;this.cell=null;this.rowIndex=-1;dojo.connect(this.grid.domNode,"onfocus",this,"doFocus");},tabbingOut:false,focusClass:"dojoxGrid-cell-focus",focusView:null,initFocusView:function(){this.focusView=this.grid.views.getFirstScrollingView();},isFocusCell:function(_346,_347){return (this.cell==_346)&&(this.rowIndex==_347);},isLastFocusCell:function(){return (this.rowIndex==this.grid.rowCount-1)&&(this.cell.index==this.grid.layout.cellCount-1);},isFirstFocusCell:function(){return (this.rowIndex==0)&&(this.cell.index==0);},isNoFocusCell:function(){return (this.rowIndex<0)||!this.cell;},_focusifyCellNode:function(_348){var n=this.cell&&this.cell.getNode(this.rowIndex);if(n){dojo.toggleClass(n,this.focusClass,_348);this.scrollIntoView();try{if(!this.grid.edit.isEditing()){dojox.grid.fire(n,"focus");}}catch(e){}}},scrollIntoView:function(){if(!this.cell){return;}var c=this.cell,s=c.view.scrollboxNode,sr={w:s.clientWidth,l:s.scrollLeft,t:s.scrollTop,h:s.clientHeight},n=c.getNode(this.rowIndex),r=c.view.getRowNode(this.rowIndex),rt=this.grid.scroller.findScrollTop(this.rowIndex);if(n.offsetLeft+n.offsetWidth>sr.l+sr.w){s.scrollLeft=n.offsetLeft+n.offsetWidth-sr.w;}else{if(n.offsetLeft<sr.l){s.scrollLeft=n.offsetLeft;}}if(rt+r.offsetHeight>sr.t+sr.h){this.grid.setScrollTop(rt+r.offsetHeight-sr.h);}else{if(rt<sr.t){this.grid.setScrollTop(rt);}}},styleRow:function(_350){if(_350.index==this.rowIndex){this._focusifyCellNode(true);}},setFocusIndex:function(_351,_352){this.setFocusCell(this.grid.getCell(_352),_351);},setFocusCell:function(_353,_354){if(_353&&!this.isFocusCell(_353,_354)){this.tabbingOut=false;this.focusGrid();this._focusifyCellNode(false);this.cell=_353;this.rowIndex=_354;this._focusifyCellNode(true);}if(dojo.isOpera){setTimeout(dojo.hitch(this.grid,"onCellFocus",this.cell,this.rowIndex),1);}else{this.grid.onCellFocus(this.cell,this.rowIndex);}},next:function(){var row=this.rowIndex,col=this.cell.index+1,cc=this.grid.layout.cellCount-1,rc=this.grid.rowCount-1;if(col>cc){col=0;row++;}if(row>rc){col=cc;row=rc;}this.setFocusIndex(row,col);},previous:function(){var row=(this.rowIndex||0),col=(this.cell.index||0)-1;if(col<0){col=this.grid.layout.cellCount-1;row--;}if(row<0){row=0;col=0;}this.setFocusIndex(row,col);},move:function(_35b,_35c){var rc=this.grid.rowCount-1,cc=this.grid.layout.cellCount-1,r=this.rowIndex,i=this.cell.index,row=Math.min(rc,Math.max(0,r+_35b)),col=Math.min(cc,Math.max(0,i+_35c));this.setFocusIndex(row,col);if(_35b){this.grid.updateRow(r);}},previousKey:function(e){if(this.isFirstFocusCell()){this.tabOut(this.grid.domNode);}else{dojo.stopEvent(e);this.previous();}},nextKey:function(e){if(this.isLastFocusCell()){this.tabOut(this.grid.lastFocusNode);}else{dojo.stopEvent(e);this.next();}},tabOut:function(_365){this.tabbingOut=true;_365.focus();},focusGrid:function(){dojox.grid.fire(this.focusView,"focus");this._focusifyCellNode(true);},doFocus:function(e){if(e&&e.target!=e.currentTarget){return;}if(!this.tabbingOut&&this.isNoFocusCell()){this.setFocusIndex(0,0);}this.tabbingOut=false;}});}if(!dojo._hasResource["dojox.grid._grid.selection"]){dojo._hasResource["dojox.grid._grid.selection"]=true;dojo.provide("dojox.grid._grid.selection");dojo.declare("dojox.grid.selection",null,{constructor:function(_367){this.grid=_367;this.selected=[];},multiSelect:true,selected:null,updating:0,selectedIndex:-1,onCanSelect:function(_368){return this.grid.onCanSelect(_368);},onCanDeselect:function(_369){return this.grid.onCanDeselect(_369);},onSelected:function(_36a){return this.grid.onSelected(_36a);},onDeselected:function(_36b){return this.grid.onDeselected(_36b);},onChanging:function(){},onChanged:function(){return this.grid.onSelectionChanged();},isSelected:function(_36c){return this.selected[_36c];},getFirstSelected:function(){for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getNextSelected:function(_36f){for(var i=_36f+1,l=this.selected.length;i<l;i++){if(this.selected[i]){return i;}}return -1;},getSelected:function(){var _372=[];for(var i=0,l=this.selected.length;i<l;i++){if(this.selected[i]){_372.push(i);}}return _372;},getSelectedCount:function(){var c=0;for(var i=0;i<this.selected.length;i++){if(this.selected[i]){c++;}}return c;},beginUpdate:function(){if(this.updating==0){this.onChanging();}this.updating++;},endUpdate:function(){this.updating--;if(this.updating==0){this.onChanged();}},select:function(_377){this.unselectAll(_377);this.addToSelection(_377);},addToSelection:function(_378){_378=Number(_378);if(this.selected[_378]){this.selectedIndex=_378;}else{if(this.onCanSelect(_378)!==false){this.selectedIndex=_378;this.beginUpdate();this.selected[_378]=true;this.grid.onSelected(_378);this.endUpdate();}}},deselect:function(_379){_379=Number(_379);if(this.selectedIndex==_379){this.selectedIndex=-1;}if(this.selected[_379]){if(this.onCanDeselect(_379)===false){return;}this.beginUpdate();delete this.selected[_379];this.grid.onDeselected(_379);this.endUpdate();}},setSelected:function(_37a,_37b){this[(_37b?"addToSelection":"deselect")](_37a);},toggleSelect:function(_37c){this.setSelected(_37c,!this.selected[_37c]);},insert:function(_37d){this.selected.splice(_37d,0,false);if(this.selectedIndex>=_37d){this.selectedIndex++;}},remove:function(_37e){this.selected.splice(_37e,1);if(this.selectedIndex>=_37e){this.selectedIndex--;}},unselectAll:function(_37f){for(var i in this.selected){if((i!=_37f)&&(this.selected[i]===true)){this.deselect(i);}}},shiftSelect:function(_381,inTo){var s=(_381>=0?_381:inTo),e=inTo;if(s>e){e=s;s=inTo;}for(var i=s;i<=e;i++){this.addToSelection(i);}},clickSelect:function(_386,_387,_388){this.beginUpdate();if(!this.multiSelect){this.select(_386);}else{var _389=this.selectedIndex;if(!_387){this.unselectAll(_386);}if(_388){this.shiftSelect(_389,_386);}else{if(_387){this.toggleSelect(_386);}else{this.addToSelection(_386);}}}this.endUpdate();},clickSelectEvent:function(e){this.clickSelect(e.rowIndex,e.ctrlKey,e.shiftKey);},clear:function(){this.beginUpdate();this.unselectAll();this.endUpdate();}});}if(!dojo._hasResource["dojox.grid._grid.edit"]){dojo._hasResource["dojox.grid._grid.edit"]=true;dojo.provide("dojox.grid._grid.edit");dojo.declare("dojox.grid.edit",null,{constructor:function(_38b){this.grid=_38b;this.connections=[];if(dojo.isIE){this.connections.push(dojo.connect(document.body,"onfocus",dojo.hitch(this,"_boomerangFocus")));}},info:{},destroy:function(){dojo.forEach(this.connections,function(c){dojo.disconnect(c);});},cellFocus:function(_38d,_38e){if(this.grid.singleClickEdit||this.isEditRow(_38e)){this.setEditCell(_38d,_38e);}else{this.apply();}if(this.isEditing()||(_38d&&(_38d.editor||0).alwaysOn)){this._focusEditor(_38d,_38e);}},rowClick:function(e){if(this.isEditing()&&!this.isEditRow(e.rowIndex)){this.apply();}},styleRow:function(_390){if(_390.index==this.info.rowIndex){_390.customClasses+=" dojoxGrid-row-editing";}},dispatchEvent:function(e){var c=e.cell,ed=c&&c.editor;return ed&&ed.dispatchEvent(e.dispatch,e);},isEditing:function(){return this.info.rowIndex!==undefined;},isEditCell:function(_394,_395){return (this.info.rowIndex===_394)&&(this.info.cell.index==_395);},isEditRow:function(_396){return this.info.rowIndex===_396;},setEditCell:function(_397,_398){if(!this.isEditCell(_398,_397.index)){this.start(_397,_398,this.isEditRow(_398)||_397.editor);}},_focusEditor:function(_399,_39a){dojox.grid.fire(_399.editor,"focus",[_39a]);},focusEditor:function(){if(this.isEditing()){this._focusEditor(this.info.cell,this.info.rowIndex);}},_boomerangWindow:500,_shouldCatchBoomerang:function(){return this._catchBoomerang>new Date().getTime();},_boomerangFocus:function(){if(this._shouldCatchBoomerang()){this.grid.focus.focusGrid();this.focusEditor();this._catchBoomerang=0;}},_doCatchBoomerang:function(){if(dojo.isIE){this._catchBoomerang=new Date().getTime()+this._boomerangWindow;}},start:function(_39b,_39c,_39d){this.grid.beginUpdate();this.editorApply();if(this.isEditing()&&!this.isEditRow(_39c)){this.applyRowEdit();this.grid.updateRow(_39c);}if(_39d){this.info={cell:_39b,rowIndex:_39c};this.grid.doStartEdit(_39b,_39c);this.grid.updateRow(_39c);}else{this.info={};}this.grid.endUpdate();this.grid.focus.focusGrid();this._focusEditor(_39b,_39c);this._doCatchBoomerang();},_editorDo:function(_39e){var c=this.info.cell;c&&c.editor&&c.editor[_39e](this.info.rowIndex);},editorApply:function(){this._editorDo("apply");},editorCancel:function(){this._editorDo("cancel");},applyCellEdit:function(_3a0,_3a1,_3a2){this.grid.doApplyCellEdit(_3a0,_3a2,_3a1.fieldIndex);},applyRowEdit:function(){this.grid.doApplyEdit(this.info.rowIndex);},apply:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorApply();this.applyRowEdit();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},cancel:function(){if(this.isEditing()){this.grid.beginUpdate();this.editorCancel();this.info={};this.grid.endUpdate();this.grid.focus.focusGrid();this._doCatchBoomerang();}},save:function(_3a3,_3a4){var c=this.info.cell;if(this.isEditRow(_3a3)&&(!_3a4||c.view==_3a4)&&c.editor){c.editor.save(c,this.info.rowIndex);}},restore:function(_3a6,_3a7){var c=this.info.cell;if(this.isEditRow(_3a7)&&c.view==_3a6&&c.editor){c.editor.restore(c,this.info.rowIndex);}}});}if(!dojo._hasResource["dojox.grid._grid.rowbar"]){dojo._hasResource["dojox.grid._grid.rowbar"]=true;dojo.provide("dojox.grid._grid.rowbar");dojo.declare("dojox.GridRowView",dojox.GridView,{defaultWidth:"3em",noscroll:true,padBorderWidth:2,buildRendering:function(){this.inherited("buildRendering",arguments);this.scrollboxNode.style.overflow="hidden";this.headerNode.style.visibility="hidden";},getWidth:function(){return this.viewWidth||this.defaultWidth;},buildRowContent:function(_3a9,_3aa){var w=this.contentNode.offsetWidth-this.padBorderWidth;_3aa.innerHTML="<table style=\"width:"+w+"px;\" role=\"wairole:presentation\"><tr><td class=\"dojoxGrid-rowbar-inner\"></td></tr></table>";},renderHeader:function(){},resize:function(){this.resizeHeight();},doStyleRowNode:function(_3ac,_3ad){var n=["dojoxGrid-rowbar"];if(this.grid.rows.isOver(_3ac)){n.push("dojoxGrid-rowbar-over");}if(this.grid.selection.isSelected(_3ac)){n.push("dojoxGrid-rowbar-selected");}_3ad.className=n.join(" ");},domouseover:function(e){this.grid.onMouseOverRow(e);},domouseout:function(e){if(!this.isIntraRowEvent(e)){this.grid.onMouseOutRow(e);}}});}if(!dojo._hasResource["dojox.grid._grid.publicEvents"]){dojo._hasResource["dojox.grid._grid.publicEvents"]=true;dojo.provide("dojox.grid._grid.publicEvents");dojox.grid.publicEvents={cellOverClass:"dojoxGrid-cell-over",onKeyEvent:function(e){this.dispatchKeyEvent(e);},onContentEvent:function(e){this.dispatchContentEvent(e);},onHeaderEvent:function(e){this.dispatchHeaderEvent(e);},onStyleRow:function(_3b4){with(_3b4){customClasses+=(odd?" dojoxGrid-row-odd":"")+(selected?" dojoxGrid-row-selected":"")+(over?" dojoxGrid-row-over":"");}this.focus.styleRow(_3b4);this.edit.styleRow(_3b4);},onKeyDown:function(e){if(e.altKey||e.ctrlKey||e.metaKey){return;}switch(e.keyCode){case dojo.keys.ESCAPE:this.edit.cancel();break;case dojo.keys.ENTER:if(!e.shiftKey){var _3b6=this.edit.isEditing();this.edit.apply();if(!_3b6){this.edit.setEditCell(this.focus.cell,this.focus.rowIndex);}}break;case dojo.keys.TAB:this.focus[e.shiftKey?"previousKey":"nextKey"](e);break;case dojo.keys.LEFT_ARROW:if(!this.edit.isEditing()){this.focus.move(0,-1);}break;case dojo.keys.RIGHT_ARROW:if(!this.edit.isEditing()){this.focus.move(0,1);}break;case dojo.keys.UP_ARROW:if(!this.edit.isEditing()){this.focus.move(-1,0);}break;case dojo.keys.DOWN_ARROW:if(!this.edit.isEditing()){this.focus.move(1,0);}break;}},onMouseOver:function(e){e.rowIndex==-1?this.onHeaderCellMouseOver(e):this.onCellMouseOver(e);},onMouseOut:function(e){e.rowIndex==-1?this.onHeaderCellMouseOut(e):this.onCellMouseOut(e);},onMouseOverRow:function(e){if(!this.rows.isOver(e.rowIndex)){this.rows.setOverRow(e.rowIndex);e.rowIndex==-1?this.onHeaderMouseOver(e):this.onRowMouseOver(e);}},onMouseOutRow:function(e){if(this.rows.isOver(-1)){this.onHeaderMouseOut(e);}else{if(!this.rows.isOver(-2)){this.rows.setOverRow(-2);this.onRowMouseOut(e);}}},onCellMouseOver:function(e){dojo.addClass(e.cellNode,this.cellOverClass);},onCellMouseOut:function(e){dojo.removeClass(e.cellNode,this.cellOverClass);},onCellClick:function(e){this.focus.setFocusCell(e.cell,e.rowIndex);this.onRowClick(e);},onCellDblClick:function(e){this.edit.setEditCell(e.cell,e.rowIndex);this.onRowDblClick(e);},onCellContextMenu:function(e){this.onRowContextMenu(e);},onCellFocus:function(_3c0,_3c1){this.edit.cellFocus(_3c0,_3c1);},onRowClick:function(e){this.edit.rowClick(e);this.selection.clickSelectEvent(e);},onRowDblClick:function(e){},onRowMouseOver:function(e){},onRowMouseOut:function(e){},onRowContextMenu:function(e){dojo.stopEvent(e);},onHeaderMouseOver:function(e){},onHeaderMouseOut:function(e){},onHeaderCellMouseOver:function(e){dojo.addClass(e.cellNode,this.cellOverClass);},onHeaderCellMouseOut:function(e){dojo.removeClass(e.cellNode,this.cellOverClass);},onHeaderClick:function(e){},onHeaderCellClick:function(e){this.setSortIndex(e.cell.index);this.onHeaderClick(e);},onHeaderDblClick:function(e){},onHeaderCellDblClick:function(e){this.onHeaderDblClick(e);},onHeaderCellContextMenu:function(e){this.onHeaderContextMenu(e);},onHeaderContextMenu:function(e){dojo.stopEvent(e);},onStartEdit:function(_3d1,_3d2){},onApplyCellEdit:function(_3d3,_3d4,_3d5){},onCancelEdit:function(_3d6){},onApplyEdit:function(_3d7){},onCanSelect:function(_3d8){return true;},onCanDeselect:function(_3d9){return true;},onSelected:function(_3da){this.updateRowStyles(_3da);},onDeselected:function(_3db){this.updateRowStyles(_3db);},onSelectionChanged:function(){}};}if(!dojo._hasResource["dojox.grid.VirtualGrid"]){dojo._hasResource["dojox.grid.VirtualGrid"]=true;dojo.provide("dojox.grid.VirtualGrid");dojo.declare("dojox.VirtualGrid",[dijit._Widget,dijit._Templated],{templateString:"<div class=\"dojoxGrid\" hidefocus=\"hidefocus\" role=\"wairole:grid\"><div class=\"dojoxGrid-master-header\" dojoAttachPoint=\"headerNode\"></div><div class=\"dojoxGrid-master-view\" dojoAttachPoint=\"viewsNode\"></div><span dojoAttachPoint=\"lastFocusNode\" tabindex=\"0\"></span></div>",classTag:"dojoxGrid",get:function(_3dc){},rowCount:5,keepRows:75,rowsPerPage:25,autoWidth:false,autoHeight:false,autoRender:true,defaultHeight:"15em",structure:"",elasticView:-1,singleClickEdit:false,sortInfo:0,themeable:true,buildRendering:function(){this.inherited(arguments);if(this.get==dojox.VirtualGrid.prototype.get){this.get=null;}if(!this.domNode.getAttribute("tabIndex")){this.domNode.tabIndex="0";}this.createScroller();this.createLayout();this.createViews();this.createManagers();dojox.grid.initTextSizePoll();this.connect(dojox.grid,"textSizeChanged","textSizeChanged");dojox.grid.funnelEvents(this.domNode,this,"doKeyEvent",dojox.grid.keyEvents);this.connect(this,"onShow","renderOnIdle");},postCreate:function(){this.styleChanged=this._styleChanged;this.setStructure(this.structure);},destroy:function(){this.domNode.onReveal=null;this.domNode.onSizeChange=null;this.edit.destroy();this.views.destroyViews();this.inherited(arguments);},styleChanged:function(){this.setStyledClass(this.domNode,"");},_styleChanged:function(){this.styleChanged();this.update();},textSizeChanged:function(){setTimeout(dojo.hitch(this,"_textSizeChanged"),1);},_textSizeChanged:function(){if(this.domNode){this.views.forEach(function(v){v.content.update();});this.render();}},sizeChange:function(){dojox.grid.jobs.job(this.id+"SizeChange",50,dojo.hitch(this,"update"));},renderOnIdle:function(){setTimeout(dojo.hitch(this,"render"),1);},createManagers:function(){this.rows=new dojox.grid.rows(this);this.focus=new dojox.grid.focus(this);this.selection=new dojox.grid.selection(this);this.edit=new dojox.grid.edit(this);},createScroller:function(){this.scroller=new dojox.grid.scroller.columns();this.scroller.renderRow=dojo.hitch(this,"renderRow");this.scroller.removeRow=dojo.hitch(this,"rowRemoved");},createLayout:function(){this.layout=new dojox.grid.layout(this);},createViews:function(){this.views=new dojox.grid.views(this);this.views.createView=dojo.hitch(this,"createView");},createView:function(_3de){var c=eval(_3de);var view=new c({grid:this});this.viewsNode.appendChild(view.domNode);this.headerNode.appendChild(view.headerNode);this.views.addView(view);return view;},buildViews:function(){for(var i=0,vs;(vs=this.layout.structure[i]);i++){this.createView(vs.type||"dojox.GridView").setStructure(vs);}this.scroller.setContentNodes(this.views.getContentNodes());},setStructure:function(_3e3){this.views.destroyViews();this.structure=_3e3;if((this.structure)&&(dojo.isString(this.structure))){this.structure=dojox.grid.getProp(this.structure);}if(!this.structure){this.structure=window["layout"];}if(!this.structure){return;}this.layout.setStructure(this.structure);this._structureChanged();},_structureChanged:function(){this.buildViews();if(this.autoRender){this.render();}},resize:function(){if(!this.domNode.parentNode){return;}var _3e4=dojo._getPadBorderExtents(this.domNode);if(this.autoHeight){this.domNode.style.height="auto";this.viewsNode.style.height="";}else{if(this.flex>0){}else{if(this.domNode.clientHeight<=_3e4.h){if(this.domNode.parentNode==document.body){this.domNode.style.height=this.defaultHeight;}else{this.fitTo="parent";}}}}if(this.fitTo=="parent"){var h=dojo._getContentBox(this.domNode.parentNode).h;dojo.marginBox(this.domNode,{h:Math.max(0,h)});}var t=this.views.measureHeader();this.headerNode.style.height=t+"px";var l=1,h=(this.autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);if(this.autoWidth){this.domNode.style.width=this.views.arrange(l,0,0,h)+"px";}else{var w=this.domNode.clientWidth||(this.domNode.offsetWidth-_3e4.w);this.views.arrange(l,0,w,h);}this.scroller.windowHeight=h;this.scroller.defaultRowHeight=this.rows.getDefaultHeightPx()+1;this.postresize();},resizeHeight:function(){var t=this.views.measureHeader();this.headerNode.style.height=t+"px";var h=(this.autoHeight?-1:Math.max(this.domNode.clientHeight-t,0)||0);this.views.onEach("setSize",[0,h]);this.views.onEach("resizeHeight");this.scroller.windowHeight=h;},render:function(){if(!this.domNode){return;}this.update=this.defaultUpdate;this.scroller.init(this.rowCount,this.keepRows,this.rowsPerPage);this.prerender();this.setScrollTop(0);this.postrender();},prerender:function(){this.views.render();this.resize();},postrender:function(){this.postresize();this.focus.initFocusView();dojo.setSelectable(this.domNode,false);},postresize:function(){if(this.autoHeight){this.viewsNode.style.height=this.views.measureContent()+"px";}},renderRow:function(_3eb,_3ec){this.views.renderRow(_3eb,_3ec);},rowRemoved:function(_3ed){this.views.rowRemoved(_3ed);},invalidated:null,updating:false,beginUpdate:function(){this.invalidated=[];this.updating=true;},endUpdate:function(){this.updating=false;var i=this.invalidated;if(i.all){this.update();}else{if(i.rowCount!=undefined){this.updateRowCount(i.rowCount);}else{for(r in i){this.updateRow(Number(r));}}}this.invalidated=null;},defaultUpdate:function(){if(this.updating){this.invalidated.all=true;return;}this.prerender();this.scroller.invalidateNodes();this.setScrollTop(this.scrollTop);this.postrender();},update:function(){this.render();},updateRow:function(_3ef){_3ef=Number(_3ef);if(this.updating){this.invalidated[_3ef]=true;return;}this.views.updateRow(_3ef,this.rows.getHeight(_3ef));this.scroller.rowHeightChanged(_3ef);},updateRowCount:function(_3f0){if(this.updating){this.invalidated.rowCount=_3f0;return;}this.rowCount=_3f0;this.scroller.updateRowCount(_3f0);this.setScrollTop(this.scrollTop);this.resize();},updateRowStyles:function(_3f1){this.views.updateRowStyles(_3f1);},rowHeightChanged:function(_3f2){this.views.renormalizeRow(_3f2);this.scroller.rowHeightChanged(_3f2);},fastScroll:true,delayScroll:false,scrollRedrawThreshold:(dojo.isIE?100:50),scrollTo:function(_3f3){if(!this.fastScroll){this.setScrollTop(_3f3);return;}var _3f4=Math.abs(this.lastScrollTop-_3f3);this.lastScrollTop=_3f3;if(_3f4>this.scrollRedrawThreshold||this.delayScroll){this.delayScroll=true;this.scrollTop=_3f3;this.views.setScrollTop(_3f3);dojox.grid.jobs.job("dojoxGrid-scroll",200,dojo.hitch(this,"finishScrollJob"));}else{this.setScrollTop(_3f3);}},finishScrollJob:function(){this.delayScroll=false;this.setScrollTop(this.scrollTop);},setScrollTop:function(_3f5){this.scrollTop=this.views.setScrollTop(_3f5);this.scroller.scroll(this.scrollTop);},scrollToRow:function(_3f6){this.setScrollTop(this.scroller.findScrollTop(_3f6)+1);},styleRowNode:function(_3f7,_3f8){if(_3f8){this.rows.styleRowNode(_3f7,_3f8);}},getCell:function(_3f9){return this.layout.cells[_3f9];},setCellWidth:function(_3fa,_3fb){this.getCell(_3fa).unitWidth=_3fb;},getCellName:function(_3fc){return "Cell "+_3fc.index;},canSort:function(_3fd){},sort:function(){},getSortAsc:function(_3fe){_3fe=_3fe==undefined?this.sortInfo:_3fe;return Boolean(_3fe>0);},getSortIndex:function(_3ff){_3ff=_3ff==undefined?this.sortInfo:_3ff;return Math.abs(_3ff)-1;},setSortIndex:function(_400,_401){var si=_400+1;if(_401!=undefined){si*=(_401?1:-1);}else{if(this.getSortIndex()==_400){si=-this.sortInfo;}}this.setSortInfo(si);},setSortInfo:function(_403){if(this.canSort(_403)){this.sortInfo=_403;this.sort();this.update();}},doKeyEvent:function(e){e.dispatch="do"+e.type;this.onKeyEvent(e);},_dispatch:function(m,e){if(m in this){return this[m](e);}},dispatchKeyEvent:function(e){this._dispatch(e.dispatch,e);},dispatchContentEvent:function(e){this.edit.dispatchEvent(e)||e.sourceView.dispatchContentEvent(e)||this._dispatch(e.dispatch,e);},dispatchHeaderEvent:function(e){e.sourceView.dispatchHeaderEvent(e)||this._dispatch("doheader"+e.type,e);},dokeydown:function(e){this.onKeyDown(e);},doclick:function(e){if(e.cellNode){this.onCellClick(e);}else{this.onRowClick(e);}},dodblclick:function(e){if(e.cellNode){this.onCellDblClick(e);}else{this.onRowDblClick(e);}},docontextmenu:function(e){if(e.cellNode){this.onCellContextMenu(e);}else{this.onRowContextMenu(e);}},doheaderclick:function(e){if(e.cellNode){this.onHeaderCellClick(e);}else{this.onHeaderClick(e);}},doheaderdblclick:function(e){if(e.cellNode){this.onHeaderCellDblClick(e);}else{this.onHeaderDblClick(e);}},doheadercontextmenu:function(e){if(e.cellNode){this.onHeaderCellContextMenu(e);}else{this.onHeaderContextMenu(e);}},doStartEdit:function(_411,_412){this.onStartEdit(_411,_412);},doApplyCellEdit:function(_413,_414,_415){this.onApplyCellEdit(_413,_414,_415);},doCancelEdit:function(_416){this.onCancelEdit(_416);},doApplyEdit:function(_417){this.onApplyEdit(_417);},addRow:function(){this.updateRowCount(this.rowCount+1);},removeSelectedRows:function(){this.updateRowCount(Math.max(0,this.rowCount-this.selection.getSelected().length));this.selection.clear();}});dojo.mixin(dojox.VirtualGrid.prototype,dojox.grid.publicEvents);}if(!dojo._hasResource["dojox.grid._data.fields"]){dojo._hasResource["dojox.grid._data.fields"]=true;dojo.provide("dojox.grid._data.fields");dojo.declare("dojox.grid.data.Mixer",null,{constructor:function(){this.defaultValue={};this.values=[];},count:function(){return this.values.length;},clear:function(){this.values=[];},build:function(_418){var _419=dojo.mixin({owner:this},this.defaultValue);_419.key=_418;this.values[_418]=_419;return _419;},getDefault:function(){return this.defaultValue;},setDefault:function(_41a){for(var i=0,a;(a=arguments[i]);i++){dojo.mixin(this.defaultValue,a);}},get:function(_41d){return this.values[_41d]||this.build(_41d);},_set:function(_41e,_41f){var v=this.get(_41e);for(var i=1;i<arguments.length;i++){dojo.mixin(v,arguments[i]);}this.values[_41e]=v;},set:function(){if(arguments.length<1){return;}var a=arguments[0];if(!dojo.isArray(a)){this._set.apply(this,arguments);}else{if(a.length&&a[0]["default"]){this.setDefault(a.shift());}for(var i=0,l=a.length;i<l;i++){this._set(i,a[i]);}}},insert:function(_425,_426){if(_425>=this.values.length){this.values[_425]=_426;}else{this.values.splice(_425,0,_426);}},remove:function(_427){this.values.splice(_427,1);},swap:function(_428,_429){dojox.grid.arraySwap(this.values,_428,_429);},move:function(_42a,_42b){dojox.grid.arrayMove(this.values,_42a,_42b);}});dojox.grid.data.compare=function(a,b){return (a>b?1:(a==b?0:-1));};dojo.declare("dojox.grid.data.Field",null,{constructor:function(_42e){this.name=_42e;this.compare=dojox.grid.data.compare;},na:dojox.grid.na});dojo.declare("dojox.grid.data.Fields",dojox.grid.data.Mixer,{constructor:function(_42f){var _430=_42f?_42f:dojox.grid.data.Field;this.defaultValue=new _430();},indexOf:function(_431){for(var i=0;i<this.values.length;i++){var v=this.values[i];if(v&&v.key==_431){return i;}}return -1;}});}if(!dojo._hasResource["dojox.grid._data.model"]){dojo._hasResource["dojox.grid._data.model"]=true;dojo.provide("dojox.grid._data.model");dojo.declare("dojox.grid.data.Model",null,{constructor:function(_434,_435){this.observers=[];this.fields=new dojox.grid.data.Fields();if(_434){this.fields.set(_434);}this.setData(_435);},count:0,updating:0,observer:function(_436,_437){this.observers.push({o:_436,p:_437||"model"});},notObserver:function(_438){for(var i=0,m,o;(o=this.observers[i]);i++){if(o.o==_438){this.observers.splice(i,1);return;}}},notify:function(_43c,_43d){if(!this.isUpdating()){var a=_43d||[];for(var i=0,m,o;(o=this.observers[i]);i++){m=o.p+_43c,o=o.o;(m in o)&&(o[m].apply(o,a));}}},clear:function(){this.fields.clear();this.clearData();},beginUpdate:function(){this.updating++;},endUpdate:function(){if(this.updating){this.updating--;}},isUpdating:function(){return Boolean(this.updating);},clearData:function(){this.setData(null);},change:function(){this.notify("Change",arguments);},insertion:function(){this.notify("Insertion",arguments);this.notify("Change",arguments);},removal:function(){this.notify("Removal",arguments);this.notify("Change",arguments);},insert:function(_442){if(!this._insert.apply(this,arguments)){return false;}this.insertion.apply(this,dojo._toArray(arguments,1));return true;},remove:function(_443){if(!this._remove.apply(this,arguments)){return false;}this.removal.apply(this,arguments);return true;},canSort:function(){return this.sort!=null;},makeComparator:function(_444){var idx,col,_447,_448=null;for(var i=_444.length-1;i>=0;i--){idx=_444[i];col=Math.abs(idx)-1;if(col>=0){_447=this.fields.get(col);_448=this.generateComparator(_447.compare,_447.key,idx>0,_448);}}return _448;},sort:null,dummy:0});dojo.declare("dojox.grid.data.Rows",dojox.grid.data.Model,{allChange:function(){this.notify("AllChange",arguments);this.notify("Change",arguments);},rowChange:function(){this.notify("RowChange",arguments);},datumChange:function(){this.notify("DatumChange",arguments);},beginModifyRow:function(_44a){if(!this.cache[_44a]){this.cache[_44a]=this.copyRow(_44a);}},endModifyRow:function(_44b){var _44c=this.cache[_44b];if(_44c){var data=this.getRow(_44b);if(!dojox.grid.arrayCompare(_44c,data)){this.update(_44c,data,_44b);}delete this.cache[_44b];}},cancelModifyRow:function(_44e){var _44f=this.cache[_44e];if(_44f){this.setRow(_44f,_44e);delete this.cache[_44e];}},generateComparator:function(_450,_451,_452,_453){return function(a,b){var ineq=_450(a[_451],b[_451]);return ineq?(_452?ineq:-ineq):_453&&_453(a,b);};}});dojo.declare("dojox.grid.data.Table",dojox.grid.data.Rows,{constructor:function(){this.cache=[];},colCount:0,data:null,cache:null,measure:function(){this.count=this.getRowCount();this.colCount=this.getColCount();this.allChange();},getRowCount:function(){return (this.data?this.data.length:0);},getColCount:function(){return (this.data&&this.data.length?this.data[0].length:this.fields.count());},badIndex:function(_457,_458){console.debug("dojox.grid.data.Table: badIndex");},isGoodIndex:function(_459,_45a){return (_459>=0&&_459<this.count&&(arguments.length<2||(_45a>=0&&_45a<this.colCount)));},getRow:function(_45b){return this.data[_45b];},copyRow:function(_45c){return this.getRow(_45c).slice(0);},getDatum:function(_45d,_45e){return this.data[_45d][_45e];},get:function(){throw ("Plain \"get\" no longer supported. Use \"getRow\" or \"getDatum\".");},setData:function(_45f){this.data=(_45f||[]);this.allChange();},setRow:function(_460,_461){this.data[_461]=_460;this.rowChange(_460,_461);this.change();},setDatum:function(_462,_463,_464){this.data[_463][_464]=_462;this.datumChange(_462,_463,_464);},set:function(){throw ("Plain \"set\" no longer supported. Use \"setData\", \"setRow\", or \"setDatum\".");},setRows:function(_465,_466){for(var i=0,l=_465.length,r=_466;i<l;i++,r++){this.setRow(_465[i],r);}},update:function(_46a,_46b,_46c){return true;},_insert:function(_46d,_46e){dojox.grid.arrayInsert(this.data,_46e,_46d);this.count++;return true;},_remove:function(_46f){for(var i=_46f.length-1;i>=0;i--){dojox.grid.arrayRemove(this.data,_46f[i]);}this.count-=_46f.length;return true;},sort:function(){this.data.sort(this.makeComparator(arguments));},swap:function(_471,_472){dojox.grid.arraySwap(this.data,_471,_472);this.rowChange(this.getRow(_471),_471);this.rowChange(this.getRow(_472),_472);this.change();},dummy:0});dojo.declare("dojox.grid.data.Objects",dojox.grid.data.Table,{constructor:function(_473,_474,_475){if(!_473){this.autoAssignFields();}},autoAssignFields:function(){var d=this.data[0],i=0;for(var f in d){this.fields.get(i++).key=f;}},getDatum:function(_479,_47a){return this.data[_479][this.fields.get(_47a).key];}});dojo.declare("dojox.grid.data.Dynamic",dojox.grid.data.Table,{constructor:function(){this.page=[];this.pages=[];},page:null,pages:null,rowsPerPage:100,requests:0,bop:-1,eop:-1,clearData:function(){this.pages=[];this.bop=this.eop=-1;this.setData([]);},getRowCount:function(){return this.count;},getColCount:function(){return this.fields.count();},setRowCount:function(_47b){this.count=_47b;this.change();},requestsPending:function(_47c){},rowToPage:function(_47d){return (this.rowsPerPage?Math.floor(_47d/this.rowsPerPage):_47d);},pageToRow:function(_47e){return (this.rowsPerPage?this.rowsPerPage*_47e:_47e);},requestRows:function(_47f,_480){},rowsProvided:function(_481,_482){this.requests--;if(this.requests==0){this.requestsPending(false);}},requestPage:function(_483){var row=this.pageToRow(_483);var _485=Math.min(this.rowsPerPage,this.count-row);if(_485>0){this.requests++;this.requestsPending(true);setTimeout(dojo.hitch(this,"requestRows",row,_485),1);}},needPage:function(_486){if(!this.pages[_486]){this.pages[_486]=true;this.requestPage(_486);}},preparePage:function(_487,_488){if(_487<this.bop||_487>=this.eop){var _489=this.rowToPage(_487);this.needPage(_489);this.bop=_489*this.rowsPerPage;this.eop=this.bop+(this.rowsPerPage||this.count);}},isRowLoaded:function(_48a){return Boolean(this.data[_48a]);},removePages:function(_48b){for(var i=0,r;((r=_48b[i])!=undefined);i++){this.pages[this.rowToPage(r)]=false;}this.bop=this.eop=-1;},remove:function(_48e){this.removePages(_48e);dojox.grid.data.Table.prototype.remove.apply(this,arguments);},getRow:function(_48f){var row=this.data[_48f];if(!row){this.preparePage(_48f);}return row;},getDatum:function(_491,_492){var row=this.getRow(_491);return (row?row[_492]:this.fields.get(_492).na);},setDatum:function(_494,_495,_496){var row=this.getRow(_495);if(row){row[_496]=_494;this.datumChange(_494,_495,_496);}else{console.debug("["+this.declaredClass+"] dojox.grid.data.dynamic.set: cannot set data on an non-loaded row");}},canSort:function(){return false;}});dojox.grid.data.table=dojox.grid.data.Table;dojox.grid.data.dynamic=dojox.grid.data.Dyanamic;dojo.declare("dojox.grid.data.DojoData",dojox.grid.data.Dynamic,{constructor:function(_498,_499,args){this.count=1;this._rowIdentities={};if(args){dojo.mixin(this,args);}if(this.store){var f=this.store.getFeatures();this._canNotify=f["dojo.data.api.Notification"];this._canWrite=f["dojo.data.api.Write"];if(this._canNotify){dojo.connect(this.store,"onSet",this,"_storeDatumChange");}}},markupFactory:function(args,node){return new dojox.grid.data.DojoData(null,null,args);},query:{name:"*"},store:null,_canNotify:false,_canWrite:false,_rowIdentities:{},clientSort:false,setData:function(_49e){this.store=_49e;this.data=[];this.allChange();},setRowCount:function(_49f){this.count=_49f;this.allChange();},beginReturn:function(_4a0){if(this.count!=_4a0){this.setRowCount(_4a0);}},_setupFields:function(_4a1){if(this.fields._nameMaps){return;}var m={};var _4a3=dojo.map(this.store.getAttributes(_4a1),function(item,idx){m[item]=idx;m[idx+".idx"]=item;return {name:item,key:item};},this);this.fields._nameMaps=m;this.fields.set(_4a3);this.notify("FieldsChange");},_getRowFromItem:function(item){},processRows:function(_4a7,_4a8){if(!_4a7){return;}this._setupFields(_4a7[0]);dojo.forEach(_4a7,function(item,idx){var row={};row.__dojo_data_item=item;dojo.forEach(this.fields.values,function(a){row[a.name]=this.store.getValue(item,a.name)||"";},this);this._rowIdentities[this.store.getIdentity(item)]=_4a8.start+idx;this.setRow(row,_4a8.start+idx);},this);},requestRows:function(_4ad,_4ae){var row=_4ad||0;var _4b0={start:row,count:this.rowsPerPage,query:this.query,onBegin:dojo.hitch(this,"beginReturn"),onComplete:dojo.hitch(this,"processRows")};this.store.fetch(_4b0);},getDatum:function(_4b1,_4b2){var row=this.getRow(_4b1);var _4b4=this.fields.values[_4b2];return row&&_4b4?row[_4b4.name]:_4b4?_4b4.na:"?";},setDatum:function(_4b5,_4b6,_4b7){var n=this.fields._nameMaps[_4b7+".idx"];if(n){this.data[_4b6][n]=_4b5;this.datumChange(_4b5,_4b6,_4b7);}},copyRow:function(_4b9){var row={};var _4bb={};var src=this.getRow(_4b9);for(var x in src){if(src[x]!=_4bb[x]){row[x]=src[x];}}return row;},_attrCompare:function(_4be,data){dojo.forEach(this.fields.values,function(a){if(_4be[a.name]!=data[a.name]){return false;}},this);return true;},endModifyRow:function(_4c1){var _4c2=this.cache[_4c1];if(_4c2){var data=this.getRow(_4c1);if(!this._attrCompare(_4c2,data)){this.update(_4c2,data,_4c1);}delete this.cache[_4c1];}},cancelModifyRow:function(_4c4){var _4c5=this.cache[_4c4];if(_4c5){this.setRow(_4c5,_4c4);delete this.cache[_4c4];}},_storeDatumChange:function(item,attr,_4c8,_4c9){var _4ca=this._rowIdentities[this.store.getIdentity(item)];var row=this.getRow(_4ca);row[attr]=_4c9;var _4cc=this.fields._nameMaps[attr];this.notify("DatumChange",[_4c9,_4ca,_4cc]);},datumChange:function(_4cd,_4ce,_4cf){if(this._canWrite){var row=this.getRow(_4ce);var _4d1=this.fields._nameMaps[_4cf+".idx"];this.store.setValue(row.__dojo_data_item,_4d1,_4cd);}else{this.notify("DatumChange",arguments);}},insertion:function(){console.debug("Insertion",arguments);this.notify("Insertion",arguments);this.notify("Change",arguments);},removal:function(){console.debug("Removal",arguments);this.notify("Removal",arguments);this.notify("Change",arguments);},canSort:function(){return this.clientSort;}});}if(!dojo._hasResource["dojox.grid._data.editors"]){dojo._hasResource["dojox.grid._data.editors"]=true;dojo.provide("dojox.grid._data.editors");dojo.provide("dojox.grid.editors");dojo.declare("dojox.grid.editors.Base",null,{constructor:function(_4d2){this.cell=_4d2;},_valueProp:"value",_formatPending:false,format:function(_4d3,_4d4){},needFormatNode:function(_4d5,_4d6){this._formatPending=true;dojox.grid.whenIdle(this,"_formatNode",_4d5,_4d6);},cancelFormatNode:function(){this._formatPending=false;},_formatNode:function(_4d7,_4d8){if(this._formatPending){this._formatPending=false;dojo.setSelectable(this.cell.grid.domNode,true);this.formatNode(this.getNode(_4d8),_4d7,_4d8);}},getNode:function(_4d9){return (this.cell.getNode(_4d9)||0).firstChild||0;},formatNode:function(_4da,_4db,_4dc){if(dojo.isIE){dojox.grid.whenIdle(this,"focus",_4dc,_4da);}else{this.focus(_4dc,_4da);}},dispatchEvent:function(m,e){if(m in this){return this[m](e);}},getValue:function(_4df){return this.getNode(_4df)[this._valueProp];},setValue:function(_4e0,_4e1){var n=this.getNode(_4e0);if(n){n[this._valueProp]=_4e1;}},focus:function(_4e3,_4e4){dojox.grid.focusSelectNode(_4e4||this.getNode(_4e3));},save:function(_4e5){this.value=this.value||this.getValue(_4e5);},restore:function(_4e6){this.setValue(_4e6,this.value);},_finish:function(_4e7){dojo.setSelectable(this.cell.grid.domNode,false);this.cancelFormatNode(this.cell);},apply:function(_4e8){this.cell.applyEdit(this.getValue(_4e8),_4e8);this._finish(_4e8);},cancel:function(_4e9){this.cell.cancelEdit(_4e9);this._finish(_4e9);}});dojox.grid.editors.base=dojox.grid.editors.Base;dojo.declare("dojox.grid.editors.Input",dojox.grid.editors.Base,{constructor:function(_4ea){this.keyFilter=this.keyFilter||this.cell.keyFilter;},keyFilter:null,format:function(_4eb,_4ec){this.needFormatNode(_4eb,_4ec);return "<input class=\"dojoxGrid-input\" type=\"text\" value=\""+_4eb+"\">";},formatNode:function(_4ed,_4ee,_4ef){this.inherited(arguments);this.cell.registerOnBlur(_4ed,_4ef);},doKey:function(e){if(this.keyFilter){var key=String.fromCharCode(e.charCode);if(key.search(this.keyFilter)==-1){dojo.stopEvent(e);}}},_finish:function(_4f2){this.inherited(arguments);var n=this.getNode(_4f2);try{dojox.grid.fire(n,"blur");}catch(e){}}});dojox.grid.editors.input=dojox.grid.editors.Input;dojo.declare("dojox.grid.editors.Select",dojox.grid.editors.Input,{constructor:function(_4f4){this.options=this.options||this.cell.options;this.values=this.values||this.cell.values||this.options;},format:function(_4f5,_4f6){this.needFormatNode(_4f5,_4f6);var h=["<select class=\"dojoxGrid-select\">"];for(var i=0,o,v;(o=this.options[i])&&(v=this.values[i]);i++){h.push("<option",(_4f5==o?" selected":""),">",o,"</option>");}h.push("</select>");return h.join("");},getValue:function(_4fb){var n=this.getNode(_4fb);if(n){var i=n.selectedIndex,o=n.options[i];return this.cell.returnIndex?i:o.value||o.innerHTML;}}});dojox.grid.editors.select=dojox.grid.editors.Select;dojo.declare("dojox.grid.editors.AlwaysOn",dojox.grid.editors.Input,{alwaysOn:true,_formatNode:function(_4ff,_500){this.formatNode(this.getNode(_500),_4ff,_500);},applyStaticValue:function(_501){var e=this.cell.grid.edit;e.applyCellEdit(this.getValue(_501),this.cell,_501);e.start(this.cell,_501,true);}});dojox.grid.editors.alwaysOn=dojox.grid.editors.AlwaysOn;dojo.declare("dojox.grid.editors.Bool",dojox.grid.editors.AlwaysOn,{_valueProp:"checked",format:function(_503,_504){return "<input class=\"dojoxGrid-input\" type=\"checkbox\""+(_503?" checked=\"checked\"":"")+" style=\"width: auto\" />";},doclick:function(e){if(e.target.tagName=="INPUT"){this.applyStaticValue(e.rowIndex);}}});dojox.grid.editors.bool=dojox.grid.editors.Bool;}if(!dojo._hasResource["dojox.grid.Grid"]){dojo._hasResource["dojox.grid.Grid"]=true;dojo.provide("dojox.grid.Grid");dojo.declare("dojox.Grid",dojox.VirtualGrid,{model:"dojox.grid.data.Table",postCreate:function(){if(this.model){var m=this.model;if(dojo.isString(m)){m=dojo.getObject(m);}this.model=(dojo.isFunction(m))?new m():m;this._setModel(this.model);}this.inherited(arguments);},destroy:function(){this.setModel(null);this.inherited(arguments);},_structureChanged:function(){this.indexCellFields();this.inherited(arguments);},_setModel:function(_507){this.model=_507;if(this.model){this.model.observer(this);this.model.measure();this.indexCellFields();}},setModel:function(_508){if(this.model){this.model.notObserver(this);}this._setModel(_508);},get:function(_509){return this.grid.model.getDatum(_509,this.fieldIndex);},modelAllChange:function(){this.rowCount=(this.model?this.model.getRowCount():0);this.updateRowCount(this.rowCount);},modelRowChange:function(_50a,_50b){this.updateRow(_50b);},modelDatumChange:function(_50c,_50d,_50e){this.updateRow(_50d);},modelFieldsChange:function(){this.indexCellFields();this.render();},modelInsertion:function(_50f){this.updateRowCount(this.model.getRowCount());},modelRemoval:function(_510){this.updateRowCount(this.model.getRowCount());},getCellName:function(_511){var v=this.model.fields.values,i=_511.fieldIndex;return i>=0&&i<v.length&&v[i].name||this.inherited(arguments);},indexCellFields:function(){var _514=this.layout.cells;for(var i=0,c;_514&&(c=_514[i]);i++){if(dojo.isString(c.field)){c.fieldIndex=this.model.fields.indexOf(c.field);}}},refresh:function(){this.edit.cancel();this.model.measure();},canSort:function(_517){var f=this.getSortField(_517);return f&&this.model.canSort(f);},getSortField:function(_519){var c=this.getCell(this.getSortIndex(_519));return (c.fieldIndex+1)*(this.sortInfo>0?1:-1);},sort:function(){this.edit.apply();this.model.sort(this.getSortField());},addRow:function(_51b,_51c){this.edit.apply();var i=_51c||-1;if(i<0){i=this.selection.getFirstSelected()||0;}if(i<0){i=0;}this.model.insert(_51b,i);this.model.beginModifyRow(i);for(var j=0,c;((c=this.getCell(j))&&!c.editor);j++){}if(c&&c.editor){this.edit.setEditCell(c,i);}},removeSelectedRows:function(){this.edit.apply();var s=this.selection.getSelected();if(s.length){this.model.remove(s);this.selection.clear();}},canEdit:function(_521,_522){return (this.model.canModify?this.model.canModify(_522):true);},doStartEdit:function(_523,_524){var edit=this.canEdit(_523,_524);if(edit){this.model.beginModifyRow(_524);this.onStartEdit(_523,_524);}return edit;},doApplyCellEdit:function(_526,_527,_528){this.model.setDatum(_526,_527,_528);this.onApplyCellEdit(_526,_527,_528);},doCancelEdit:function(_529){this.model.cancelModifyRow(_529);this.onCancelEdit.apply(this,arguments);},doApplyEdit:function(_52a){this.model.endModifyRow(_52a);this.onApplyEdit(_52a);},styleRowState:function(_52b){if(this.model.getState){var _52c=this.model.getState(_52b.index),c="";for(var i=0,ss=["inflight","error","inserting"],s;s=ss[i];i++){if(_52c[s]){c=" dojoxGrid-row-"+s;break;}}_52b.customClasses+=c;}},onStyleRow:function(_531){this.styleRowState(_531);this.inherited(arguments);},junk:0});}if(!dojo._hasResource["dojox.widget.Toaster"]){dojo._hasResource["dojox.widget.Toaster"]=true;dojo.provide("dojox.widget.Toaster");dojo.declare("dojox.widget.Toaster",[dijit._Widget,dijit._Templated],{templateString:"<div dojoAttachPoint=\"clipNode\"><div dojoAttachPoint=\"containerNode\" dojoAttachEvent=\"onclick:onSelect\"><div dojoAttachPoint=\"contentNode\"></div></div></div>",messageTopic:"",_uniqueId:0,messageTypes:{MESSAGE:"message",WARNING:"warning",ERROR:"error",FATAL:"fatal"},defaultType:"message",positionDirection:"br-up",positionDirectionTypes:["br-up","br-left","bl-up","bl-right","tr-down","tr-left","tl-down","tl-right"],duration:"2000",separator:"<hr></hr>",postCreate:function(){dojox.widget.Toaster.superclass.postCreate.apply(this);this.hide();this.clipNode.className="dijitToasterClip";this.containerNode.className+=" dijitToasterContainer";this.contentNode.className="dijitToasterContent";if(this.messageTopic){dojo.subscribe(this.messageTopic,this,"_handleMessage");}},_handleMessage:function(_532){if(dojo.isString(_532)){this.setContent(_532);}else{this.setContent(_532.message,_532.type,_532.duration);}},setContent:function(_533,_534,_535){_535=_535||this.duration;if(this.slideAnim){if(this.slideAnim.status()!="playing"){this.slideAnim.stop();}if(this.slideAnim.status()=="playing"||(this.fadeAnim&&this.fadeAnim.status()=="playing")){setTimeout(dojo.hitch(this,function(){this.setContent(_533,_534);}),50);return;}}var _536=function(word){return word.substring(0,1).toUpperCase()+word.substring(1);};for(var type in this.messageTypes){dojo.removeClass(this.containerNode,"dijitToaster"+_536(this.messageTypes[type]));}dojo.style(this.containerNode,"opacity",1);if(_533&&this.isVisible){_533=this.contentNode.innerHTML+this.separator+_533;}this.contentNode.innerHTML=_533;dojo.addClass(this.containerNode,"dijitToaster"+_536(_534||this.defaultType));this.show();var _539=dojo.marginBox(this.containerNode);if(this.isVisible){this._placeClip();}else{var _53a=this.containerNode.style;var pd=this.positionDirection;if(pd.indexOf("-up")>=0){_53a.left=0+"px";_53a.top=_539.h+10+"px";}else{if(pd.indexOf("-left")>=0){_53a.left=_539.w+10+"px";_53a.top=0+"px";}else{if(pd.indexOf("-right")>=0){_53a.left=0-_539.w-10+"px";_53a.top=0+"px";}else{if(pd.indexOf("-down")>=0){_53a.left=0+"px";_53a.top=0-_539.h-10+"px";}else{throw new Error(this.id+".positionDirection is invalid: "+pd);}}}}this.slideAnim=dojo.fx.slideTo({node:this.containerNode,top:0,left:0,duration:450});dojo.connect(this.slideAnim,"onEnd",this,function(_53c,anim){this.fadeAnim=dojo.fadeOut({node:this.containerNode,duration:1000});dojo.connect(this.fadeAnim,"onEnd",this,function(evt){this.isVisible=false;this.hide();});if(_535>0){setTimeout(dojo.hitch(this,function(evt){if(this.bgIframe&&this.bgIframe.iframe){this.bgIframe.iframe.style.display="none";}this.fadeAnim.play();}),_535);}else{dojo.connect(this,"onSelect",this,function(evt){this.fadeAnim.play();});}this.isVisible=true;});this.slideAnim.play();}},_placeClip:function(){var view=dijit.getViewport();var _542=dojo.marginBox(this.containerNode);var _543=this.clipNode.style;_543.height=_542.h+"px";_543.width=_542.w+"px";var pd=this.positionDirection;if(pd.match(/^t/)){_543.top=view.t+"px";}else{if(pd.match(/^b/)){_543.top=(view.h-_542.h-2+view.t)+"px";}}if(pd.match(/^[tb]r-/)){_543.left=(view.w-_542.w-1-view.l)+"px";}else{if(pd.match(/^[tb]l-/)){_543.left=0+"px";}}_543.clip="rect(0px, "+_542.w+"px, "+_542.h+"px, 0px)";if(dojo.isIE){if(!this.bgIframe){this.clipNode.id="__dojoXToaster_"+this._uniqueId++;this.bgIframe=new dijit.BackgroundIframe(this.clipNode);}var _545=this.bgIframe.iframe;_545&&(_545.style.display="block");}},onSelect:function(e){},show:function(){dojo.style(this.containerNode,"display","");this._placeClip();if(!this._scrollConnected){this._scrollConnected=dojo.connect(window,"onscroll",this,this._placeClip);}},hide:function(){dojo.style(this.containerNode,"display","none");if(this._scrollConnected){dojo.disconnect(this._scrollConnected);this._scrollConnected=false;}dojo.style(this.containerNode,"opacity",1);}});}if(!dojo._hasResource["dojox.layout.ResizeHandle"]){dojo._hasResource["dojox.layout.ResizeHandle"]=true;dojo.provide("dojox.layout.ResizeHandle");dojo.experimental("dojox.layout.ResizeHandle");dojo.declare("dojox.layout.ResizeHandle",[dijit._Widget,dijit._Templated],{targetId:"",targetContainer:null,resizeAxis:"xy",activeResize:false,activeResizeClass:"dojoxResizeHandleClone",animateSizing:true,animateMethod:"chain",animateDuration:225,minHeight:100,minWidth:100,templateString:"<div dojoAttachPoint=\"resizeHandle\" class=\"dojoxResizeHandle\"><div></div></div>",_isSizing:false,_connects:[],_activeResizeNode:null,_activeResizeLastEvent:null,_resizeX:true,_resizeY:true,postCreate:function(){dojo.connect(this.resizeHandle,"onmousedown",this,"_beginSizing");if(!this.activeResize){this._activeResizeNode=document.createElement("div");dojo.addClass(this._activeResizeNode,this.activeResizeClass);}else{this.animateSizing=false;}if(!this.minSize){this.minSize={w:this.minWidth,h:this.minHeight};}this._resizeX=this._resizeY=false;switch(this.resizeAxis.toLowerCase()){case "xy":this._resizeX=this._resizeY=true;dojo.addClass(this.resizeHandle,"dojoxResizeNW");break;case "x":this._resizeX=true;dojo.addClass(this.resizeHandle,"dojoxResizeW");break;case "y":this._resizeY=true;dojo.addClass(this.resizeHandle,"dojoxResizeN");break;}},_beginSizing:function(e){if(this._isSizing){return false;}this.targetWidget=dijit.byId(this.targetId);if(this.targetWidget){this.activeResize=true;}this.targetDomNode=this.targetWidget?this.targetWidget.domNode:dojo.byId(this.targetId);if(this.targetContainer){this.targetDomNode=this.targetContainer;}if(!this.targetDomNode){return;}if(!this.activeResize){this.targetDomNode.appendChild(this._activeResizeNode);dojo.fadeIn({node:this._activeResizeNode,duration:120,beforeBegin:dojo.hitch(this,function(){this._activeResizeNode.style.display="";})}).play();}this._isSizing=true;this.startPoint={"x":e.clientX,"y":e.clientY};var mb=(this.targetWidget)?dojo.marginBox(this.targetDomNode):dojo.contentBox(this.targetDomNode);this.startSize={"w":mb.w,"h":mb.h};this._connects=[];this._connects.push(dojo.connect(document,"onmousemove",this,"_updateSizing"));this._connects.push(dojo.connect(document,"onmouseup",this,"_endSizing"));e.preventDefault();},_updateSizing:function(e){if(this.activeResize){this._changeSizing(e);}else{var tmp=this._getNewCoords(e);if(tmp===false){return;}dojo.style(this._activeResizeNode,"width",tmp.width+"px");dojo.style(this._activeResizeNode,"height",tmp.height+"px");this._activeResizeNode.style.display="";}},_getNewCoords:function(e){try{if(!e.clientX||!e.clientY){return false;}}catch(e){return false;}this._activeResizeLastEvent=e;var dx=this.startPoint.x-e.clientX;var dy=this.startPoint.y-e.clientY;var newW=(this._resizeX)?this.startSize.w-dx:this.startSize.w;var newH=(this._resizeY)?this.startSize.h-dy:this.startSize.h;if(this.minSize){if(newW<this.minSize.w){newW=this.minSize.w;}if(newH<this.minSize.h){newH=this.minSize.h;}}return {width:newW,height:newH};},_changeSizing:function(e){var tmp=this._getNewCoords(e);if(tmp===false){return;}if(this.targetWidget&&typeof this.targetWidget.resize=="function"){this.targetWidget.resize({w:tmp.width,h:tmp.height});}else{if(this.animateSizing){var anim=dojo.fx[this.animateMethod]([dojo.animateProperty({node:this.targetDomNode,properties:{width:{start:this.startSize.w,end:tmp.width,unit:"px"}},duration:this.animateDuration}),dojo.animateProperty({node:this.targetDomNode,properties:{height:{start:this.startSize.h,end:tmp.height,unit:"px"}},duration:this.animateDuration})]);anim.play();}else{dojo.style(this.targetDomNode,"width",tmp.width+"px");dojo.style(this.targetDomNode,"height",tmp.height+"px");}}e.preventDefault();},_endSizing:function(e){dojo.forEach(this._connects,function(c){dojo.disconnect(c);});if(!this.activeResize){dojo.fadeOut({node:this._activeResizeNode,duration:250,onEnd:dojo.hitch(this,function(){this._activeResizeNode.style.display="none";})}).play();this._changeSizing(e);}this._isSizing=false;}});}
